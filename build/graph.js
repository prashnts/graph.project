(function(c){var f=/[\.\/]/,b=function(){},h=function(b,c){return b-c},d,k,q={n:{}},p=function(b,c){b=String(b);var f=k,q=Array.prototype.slice.call(arguments,2),ia=p.listeners(b),I=0,F,X=[],E={},R=[],oa=d;d=b;for(var ca=k=0,s=ia.length;ca<s;ca++)"zIndex"in ia[ca]&&(X.push(ia[ca].zIndex),0>ia[ca].zIndex&&(E[ia[ca].zIndex]=ia[ca]));for(X.sort(h);0>X[I];)if(F=E[X[I++]],R.push(F.apply(c,q)),k)return k=f,R;for(ca=0;ca<s;ca++)if(F=ia[ca],"zIndex"in F)if(F.zIndex==X[I]){R.push(F.apply(c,q));if(k)break;
do if(I++,(F=E[X[I]])&&R.push(F.apply(c,q)),k)break;while(F)}else E[F.zIndex]=F;else if(R.push(F.apply(c,q)),k)break;k=f;d=oa;return R.length?R:null};p._events=q;p.listeners=function(b){b=b.split(f);var c=q,d,h,k,p,F,X,E,R=[c],oa=[];k=0;for(p=b.length;k<p;k++){E=[];F=0;for(X=R.length;F<X;F++)for(c=R[F].n,d=[c[b[k]],c["*"]],h=2;h--;)if(c=d[h])E.push(c),oa=oa.concat(c.f||[]);R=E}return oa};p.on=function(c,d){c=String(c);if("function"!=typeof d)return function(){};for(var h=c.split(f),k=q,p=0,I=h.length;p<
I;p++)k=k.n,k=k.hasOwnProperty(h[p])&&k[h[p]]||(k[h[p]]={n:{}});k.f=k.f||[];p=0;for(I=k.f.length;p<I;p++)if(k.f[p]==d)return b;k.f.push(d);return function(b){+b==+b&&(d.zIndex=+b)}};p.f=function(b){var c=[].slice.call(arguments,1);return function(){p.apply(null,[b,null].concat(c).concat([].slice.call(arguments,0)))}};p.stop=function(){k=1};p.nt=function(b){return b?(new RegExp("(?:\\.|\\/|^)"+b+"(?:\\.|\\/|$)")).test(d):d};p.nts=function(){return d.split(f)};p.off=p.unbind=function(b,c){if(b){var d=
b.split(f),h,k,I,F,X,E,R=[q];F=0;for(X=d.length;F<X;F++)for(E=0;E<R.length;E+=I.length-2){I=[E,1];h=R[E].n;if("*"!=d[F])h[d[F]]&&I.push(h[d[F]]);else for(k in h)h.hasOwnProperty(k)&&I.push(h[k]);R.splice.apply(R,I)}F=0;for(X=R.length;F<X;F++)for(h=R[F];h.n;){if(c){if(h.f){E=0;for(d=h.f.length;E<d;E++)if(h.f[E]==c){h.f.splice(E,1);break}!h.f.length&&delete h.f}for(k in h.n)if(h.n.hasOwnProperty(k)&&h.n[k].f){I=h.n[k].f;E=0;for(d=I.length;E<d;E++)if(I[E]==c){I.splice(E,1);break}!I.length&&delete h.n[k].f}}else for(k in delete h.f,
h.n)h.n.hasOwnProperty(k)&&h.n[k].f&&delete h.n[k].f;h=h.n}}else p._events=q={n:{}}};p.once=function(b,c){var f=function(){p.unbind(b,f);return c.apply(this,arguments)};return p.on(b,f)};p.version="0.4.2";p.toString=function(){return"You are running Eve 0.4.2"};"undefined"!=typeof module&&module.exports?module.exports=p:"undefined"!=typeof define?define("eve",[],function(){return p}):c.eve=p})(window||this);
(function(c,f){"function"===typeof define&&define.amd?define(["eve"],function(b){return f(c,b)}):f(c,c.eve)})(this,function(c,f){function b(a){if(b.is(a,"function"))return E?a():f.on("raphael.DOMload",a);if(b.is(a,da))return b._engine.create[S](b,a.splice(0,3+b.is(a[0],W))).add(a);var l=Array.prototype.slice.call(arguments,0);if(b.is(l[l.length-1],"function")){var e=l.pop();return E?e.call(b._engine.create[S](b,l)):f.on("raphael.DOMload",function(){e.call(b._engine.create[S](b,l))})}return b._engine.create[S](b,
arguments)}function h(a){if("function"==typeof a||Object(a)!==a)return a;var l=new a.constructor,b;for(b in a)a.hasOwnProperty(b)&&(l[b]=h(a[b]));return l}function d(a,l,b){function g(){var t=Array.prototype.slice.call(arguments,0),m=t.join("\u2400"),c=g.cache=g.cache||{},M=g.count=g.count||[];if(c.hasOwnProperty(m)){a:for(var t=M,M=m,f=0,d=t.length;f<d;f++)if(t[f]===M){t.push(t.splice(f,1)[0]);break a}return b?b(c[m]):c[m]}1E3<=M.length&&delete c[M.shift()];M.push(m);c[m]=a[S](l,t);return b?b(c[m]):
c[m]}return g}function k(){return this.hex}function q(a,l){for(var b=[],g=0,t=a.length;t-2*!l>g;g+=2){var m=[{x:+a[g-2],y:+a[g-1]},{x:+a[g],y:+a[g+1]},{x:+a[g+2],y:+a[g+3]},{x:+a[g+4],y:+a[g+5]}];l?g?t-4==g?m[3]={x:+a[0],y:+a[1]}:t-2==g&&(m[2]={x:+a[0],y:+a[1]},m[3]={x:+a[2],y:+a[3]}):m[0]={x:+a[t-2],y:+a[t-1]}:t-4==g?m[3]=m[2]:g||(m[0]={x:+a[g],y:+a[g+1]});b.push(["C",(-m[0].x+6*m[1].x+m[2].x)/6,(-m[0].y+6*m[1].y+m[2].y)/6,(m[1].x+6*m[2].x-m[3].x)/6,(m[1].y+6*m[2].y-m[3].y)/6,m[2].x,m[2].y])}return b}
function p(a,l,b,g,t,m,c,M,f){null==f&&(f=1);f=(1<f?1:0>f?0:f)/2;for(var d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],n=0,k=0;12>k;k++)var r=f*d[k]+f,q=r*(r*(-3*a+9*b-9*t+3*c)+6*a-12*b+6*t)-3*a+3*b,r=r*(r*(-3*l+9*g-9*m+3*M)+6*l-12*g+6*m)-3*l+3*g,n=n+h[k]*u.sqrt(q*q+r*r);return f*n}function z(a,l,b,g,t,m,c,M,f){if(!(0>f||p(a,l,b,g,t,m,c,M)<f)){var d=.5,h=1-d,n;for(n=p(a,l,b,g,t,m,c,M,h);.01<
U(n-f);)d/=2,h+=(n<f?1:-1)*d,n=p(a,l,b,g,t,m,c,M,h);return h}}function Y(a,l,e){a=b._path2curve(a);l=b._path2curve(l);for(var g,t,m,c,M,f,d,h,n,k,r=e?0:[],q=0,v=a.length;q<v;q++)if(n=a[q],"M"==n[0])g=M=n[1],t=f=n[2];else{"C"==n[0]?(n=[g,t].concat(n.slice(1)),g=n[6],t=n[7]):(n=[g,t,g,t,M,f,M,f],g=M,t=f);for(var P=0,x=l.length;P<x;P++)if(k=l[P],"M"==k[0])m=d=k[1],c=h=k[2];else{"C"==k[0]?(k=[m,c].concat(k.slice(1)),m=k[6],c=k[7]):(k=[m,c,m,c,d,h,d,h],m=d,c=h);var w;var s=n,$=k;w=e;var u=b.bezierBBox(s),
L=b.bezierBBox($);if(b.isBBoxIntersect(u,L)){for(var u=p.apply(0,s),L=p.apply(0,$),u=N(~~(u/5),1),L=N(~~(L/5),1),Ia=[],Ja=[],$a={},J=w?0:[],V=0;V<u+1;V++){var H=b.findDotsAtSegment.apply(b,s.concat(V/u));Ia.push({x:H.x,y:H.y,t:V/u})}for(V=0;V<L+1;V++)H=b.findDotsAtSegment.apply(b,$.concat(V/L)),Ja.push({x:H.x,y:H.y,t:V/L});for(V=0;V<u;V++)for(s=0;s<L;s++){var y=Ia[V],B=Ia[V+1],$=Ja[s],H=Ja[s+1],va=.001>U(B.x-y.x)?"y":"x",wa=.001>U(H.x-$.x)?"y":"x",D;D=y.x;var ja=y.y,ka=B.x,la=B.y,ma=$.x,z=$.y,A=H.x,
F=H.y;if(N(D,ka)<Q(ma,A)||Q(D,ka)>N(ma,A)||N(ja,la)<Q(z,F)||Q(ja,la)>N(z,F))D=void 0;else{var C=(D*la-ja*ka)*(ma-A)-(D-ka)*(ma*F-z*A),I=(D*la-ja*ka)*(z-F)-(ja-la)*(ma*F-z*A),E=(D-ka)*(z-F)-(ja-la)*(ma-A);if(E){var C=C/E,I=I/E,E=+C.toFixed(2),K=+I.toFixed(2);D=E<+Q(D,ka).toFixed(2)||E>+N(D,ka).toFixed(2)||E<+Q(ma,A).toFixed(2)||E>+N(ma,A).toFixed(2)||K<+Q(ja,la).toFixed(2)||K>+N(ja,la).toFixed(2)||K<+Q(z,F).toFixed(2)||K>+N(z,F).toFixed(2)?void 0:{x:C,y:I}}else D=void 0}D&&$a[D.x.toFixed(4)]!=D.y.toFixed(4)&&
($a[D.x.toFixed(4)]=D.y.toFixed(4),y=y.t+U((D[va]-y[va])/(B[va]-y[va]))*(B.t-y.t),$=$.t+U((D[wa]-$[wa])/(H[wa]-$[wa]))*(H.t-$.t),0<=y&&1.001>=y&&0<=$&&1.001>=$&&(w?J++:J.push({x:D.x,y:D.y,t1:Q(y,1),t2:Q($,1)})))}w=J}else w=w?0:[];if(e)r+=w;else{u=0;for(L=w.length;u<L;u++)w[u].segment1=q,w[u].segment2=P,w[u].bez1=n,w[u].bez2=k;r=r.concat(w)}}}return r}function ga(a,l,b,g,t,m){null!=a?(this.a=+a,this.b=+l,this.c=+b,this.d=+g,this.e=+t,this.f=+m):(this.a=1,this.c=this.b=0,this.d=1,this.f=this.e=0)}function Ya(){return this.x+
" "+this.y+" "+this.width+" \u00d7 "+this.height}function ia(a,l,b,g,t,m){function c(a,l){var b,e,g,m;g=a;for(e=0;8>e;e++){m=((d*g+f)*g+M)*g-a;if(U(m)<l)return g;b=(3*d*g+2*f)*g+M;if(1E-6>U(b))break;g-=m/b}b=0;e=1;g=a;if(g<b)return b;if(g>e)return e;for(;b<e;){m=((d*g+f)*g+M)*g;if(U(m-a)<l)break;a>m?b=g:e=g;g=(e-b)/2+b}return g}var M=3*l,f=3*(g-l)-M,d=1-M-f,h=3*b,n=3*(t-b)-h,k=1-h-n;return function(a,l){var b=c(a,l);return((k*b+n)*b+h)*b}(a,1/(200*m))}function I(a,l){var b=[],g={};this.ms=l;this.times=
1;if(a){for(var t in a)a.hasOwnProperty(t)&&(g[K(t)]=a[t],b.push(K(t)));b.sort(ub)}this.anim=g;this.top=b[b.length-1];this.percents=b}function F(a,l,e,g,t,m){e=K(e);var c,M,d,h,k,n,T=a.ms,r={},q={},v={};if(g)for(n=0,x=A.length;n<x;n++){var P=A[n];if(P.el.id==l.id&&P.anim==a){P.percent!=e?(A.splice(n,1),d=1):M=P;l.attr(P.totalOrigin);break}}else g=+q;n=0;for(var x=a.percents.length;n<x;n++)if(a.percents[n]==e||a.percents[n]>g*a.top){e=a.percents[n];k=a.percents[n-1]||0;T=T/a.top*(e-k);h=a.percents[n+
1];c=a.anim[e];break}else g&&l.attr(a.anim[a.percents[n]]);if(c){if(M)M.initstatus=g,M.start=new Date-M.ms*g;else{for(var w in c)if(c.hasOwnProperty(w)&&(Ka.hasOwnProperty(w)||l.paper.customAttributes.hasOwnProperty(w)))switch(r[w]=l.attr(w),null==r[w]&&(r[w]=vb[w]),q[w]=c[w],Ka[w]){case W:v[w]=(q[w]-r[w])/T;break;case "colour":r[w]=b.getRGB(r[w]);n=b.getRGB(q[w]);v[w]={r:(n.r-r[w].r)/T,g:(n.g-r[w].g)/T,b:(n.b-r[w].b)/T};break;case "path":n=ta(r[w],q[w]);P=n[1];r[w]=n[0];v[w]=[];n=0;for(x=r[w].length;n<
x;n++){v[w][n]=[0];for(var p=1,s=r[w][n].length;p<s;p++)v[w][n][p]=(P[n][p]-r[w][n][p])/T}break;case "transform":n=l._;if(x=wb(n[w],q[w]))for(r[w]=x.from,q[w]=x.to,v[w]=[],v[w].real=!0,n=0,x=r[w].length;n<x;n++)for(v[w][n]=[r[w][n][0]],p=1,s=r[w][n].length;p<s;p++)v[w][n][p]=(q[w][n][p]-r[w][n][p])/T;else x=l.matrix||new ga,n={_:{transform:n.transform},getBBox:function(){return l.getBBox(1)}},r[w]=[x.a,x.b,x.c,x.d,x.e,x.f],ab(n,q[w]),q[w]=n._.transform,v[w]=[(n.matrix.a-x.a)/T,(n.matrix.b-x.b)/T,
(n.matrix.c-x.c)/T,(n.matrix.d-x.d)/T,(n.matrix.e-x.e)/T,(n.matrix.f-x.f)/T];break;case "csv":x=aa(c[w]).split(R);P=aa(r[w]).split(R);if("clip-rect"==w)for(r[w]=P,v[w]=[],n=P.length;n--;)v[w][n]=(x[n]-r[w][n])/T;q[w]=x;break;default:for(x=[].concat(c[w]),P=[].concat(r[w]),v[w]=[],n=l.paper.customAttributes[w].length;n--;)v[w][n]=((x[n]||0)-(P[n]||0))/T}n=c.easing;w=b.easing_formulas[n];if(!w)if((w=aa(n).match(xb))&&5==w.length){var u=w;w=function(a){return ia(a,+u[1],+u[2],+u[3],+u[4],T)}}else w=
yb;n=c.start||a.start||+new Date;P={anim:a,percent:e,timestamp:n,start:n+(a.del||0),status:0,initstatus:g||0,stop:!1,ms:T,easing:w,from:r,diff:v,to:q,el:l,callback:c.callback,prev:k,next:h,repeat:m||a.times,origin:l.attr(),totalOrigin:t};A.push(P);if(g&&!M&&!d&&(P.stop=!0,P.start=new Date-T*g,1==A.length))return La();d&&(P.start=new Date-P.ms*g);1==A.length&&bb(La)}f("raphael.anim.start."+l.id,l,a)}}function X(a){for(var l=0;l<A.length;l++)A[l].el.paper==a&&A.splice(l--,1)}b.version="2.1.2";b.eve=
f;var E,R=/[, ]+/,oa={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},ca=/\{(\d+)\}/g,s={doc:document,win:c},cb=Object.prototype.hasOwnProperty.call(s.win,"Raphael"),zb=s.win.Raphael,db=function(){this.ca=this.customAttributes={}},O,S="apply",xa="ontouchstart"in s.win||s.win.DocumentTouch&&s.doc instanceof DocumentTouch,aa=String,eb="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel".split(" "),ya={mousedown:"touchstart",mousemove:"touchmove",
mouseup:"touchend"},za=aa.prototype.toLowerCase,u=Math,N=u.max,Q=u.min,U=u.abs,ea=u.pow,ba=u.PI,W="number",da="array",Ab=Object.prototype.toString;b._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i;var Bb=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,
Cb={NaN:1,Infinity:1,"-Infinity":1},xb=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Ma=u.round,K=parseFloat,pa=parseInt,fb=aa.prototype.toUpperCase,vb=b._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",
r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},Ka=b._availableAnimAttrs={blur:W,"clip-rect":"csv",cx:W,cy:W,fill:"colour","fill-opacity":W,"font-size":W,height:W,opacity:W,path:"path",r:W,rx:W,ry:W,stroke:"colour","stroke-opacity":W,"stroke-width":W,transform:"transform",width:W,x:W,y:W},Na=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,
Db={hs:1,rg:1},Eb=/,?([achlmqrstvxz]),?/gi,Fb=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,
Gb=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,gb=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig;
b._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/;var ra={},ub=function(a,l){return K(a)-K(l)},Hb=function(){},yb=function(a){return a},Aa=b._rectPath=function(a,l,b,g,t){return t?[["M",a+t,l],["l",b-2*t,0],["a",t,t,0,0,1,
t,t],["l",0,g-2*t],["a",t,t,0,0,1,-t,t],["l",2*t-b,0],["a",t,t,0,0,1,-t,-t],["l",0,2*t-g],["a",t,t,0,0,1,t,-t],["z"]]:[["M",a,l],["l",b,0],["l",0,g],["l",-b,0],["z"]]},hb=function(a,l,b,g){null==g&&(g=b);return[["M",a,l],["m",0,-g],["a",b,g,0,1,1,0,2*g],["a",b,g,0,1,1,0,-2*g],["z"]]},Ba=b._getPath={path:function(a){return a.attr("path")},circle:function(a){a=a.attrs;return hb(a.cx,a.cy,a.r)},ellipse:function(a){a=a.attrs;return hb(a.cx,a.cy,a.rx,a.ry)},rect:function(a){a=a.attrs;return Aa(a.x,a.y,
a.width,a.height,a.r)},image:function(a){a=a.attrs;return Aa(a.x,a.y,a.width,a.height)},text:function(a){a=a._getBBox();return Aa(a.x,a.y,a.width,a.height)},set:function(a){a=a._getBBox();return Aa(a.x,a.y,a.width,a.height)}},Oa=b.mapPath=function(a,l){if(!l)return a;var b,g,t,m,c,M,f;a=ta(a);t=0;for(c=a.length;t<c;t++)for(f=a[t],m=1,M=f.length;m<M;m+=2)b=l.x(f[m],f[m+1]),g=l.y(f[m],f[m+1]),f[m]=b,f[m+1]=g;return a};b._g=s;b.type=s.win.SVGAngle||s.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure",
"1.1")?"SVG":"VML";if("VML"==b.type){var Pa=s.doc.createElement("div"),Ca;Pa.innerHTML='<v:shape adj="1"/>';Ca=Pa.firstChild;Ca.style.behavior="url(#default#VML)";if(!Ca||"object"!=typeof Ca.adj)return b.type="";Pa=null}b.svg=!(b.vml="VML"==b.type);b._Paper=db;b.fn=O=db.prototype=b.prototype;b._id=0;b._oid=0;b.is=function(a,l){l=za.call(l);return"finite"==l?!Cb.hasOwnProperty(+a):"array"==l?a instanceof Array:"null"==l&&null===a||l==typeof a&&null!==a||"object"==l&&a===Object(a)||"array"==l&&Array.isArray&&
Array.isArray(a)||Ab.call(a).slice(8,-1).toLowerCase()==l};b.angle=function(a,l,e,g,t,m){return null==t?(a-=e,l-=g,a||l?(180*u.atan2(-l,-a)/ba+540)%360:0):b.angle(a,l,t,m)-b.angle(e,g,t,m)};b.rad=function(a){return a%360*ba/180};b.deg=function(a){return 180*a/ba%360};b.snapTo=function(a,l,e){e=b.is(e,"finite")?e:10;if(b.is(a,da))for(var g=a.length;g--;){if(U(a[g]-l)<=e)return a[g]}else{a=+a;g=l%a;if(g<e)return l-g;if(g>a-e)return l-g+a}return l};b.createUUID=function(a,l){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,
l).toUpperCase()}}(/[xy]/g,function(a){var l=16*u.random()|0;return("x"==a?l:l&3|8).toString(16)});b.setWindow=function(a){f("raphael.setWindow",b,s.win,a);s.win=a;s.doc=s.win.document;b._engine.initWin&&b._engine.initWin(s.win)};var Da=function(a){if(b.vml){var l=/^\s+|\s+$/g,e;try{var g=new ActiveXObject("htmlfile");g.write("<body>");g.close();e=g.body}catch(t){e=createPopup().document.body}var m=e.createTextRange();Da=d(function(a){try{e.style.color=aa(a).replace(l,"");var b=m.queryCommandValue("ForeColor");
return"#"+("000000"+((b&255)<<16|b&65280|(b&16711680)>>>16).toString(16)).slice(-6)}catch(g){return"none"}})}else{var c=s.doc.createElement("i");c.title="Rapha\u00ebl Colour Picker";c.style.display="none";s.doc.body.appendChild(c);Da=d(function(a){c.style.color=a;return s.doc.defaultView.getComputedStyle(c,"").getPropertyValue("color")})}return Da(a)},Ib=function(){return"hsb("+[this.h,this.s,this.b]+")"},Jb=function(){return"hsl("+[this.h,this.s,this.l]+")"},ib=function(){return this.hex},jb=function(a,
l,e){null==l&&b.is(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(e=a.b,l=a.g,a=a.r);null==l&&b.is(a,"string")&&(e=b.getRGB(a),a=e.r,l=e.g,e=e.b);if(1<a||1<l||1<e)a/=255,l/=255,e/=255;return[a,l,e]},kb=function(a,l,e,g){a*=255;l*=255;e*=255;a={r:a,g:l,b:e,hex:b.rgb(a,l,e),toString:ib};b.is(g,"finite")&&(a.opacity=g);return a};b.color=function(a){var l;b.is(a,"object")&&"h"in a&&"s"in a&&"b"in a?(l=b.hsb2rgb(a),a.r=l.r,a.g=l.g,a.b=l.b,a.hex=l.hex):b.is(a,"object")&&"h"in a&&"s"in a&&"l"in a?(l=b.hsl2rgb(a),
a.r=l.r,a.g=l.g,a.b=l.b,a.hex=l.hex):(b.is(a,"string")&&(a=b.getRGB(a)),b.is(a,"object")&&"r"in a&&"g"in a&&"b"in a?(l=b.rgb2hsl(a),a.h=l.h,a.s=l.s,a.l=l.l,l=b.rgb2hsb(a),a.v=l.b):(a={hex:"none"},a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1));a.toString=ib;return a};b.hsb2rgb=function(a,l,b,g){this.is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(b=a.b,l=a.s,a=a.h,g=a.o);var t,m,c;a=360*a%360/60;c=b*l;l=c*(1-U(a%2-1));b=t=m=b-c;a=~~a;b+=[c,l,0,0,l,c][a];t+=[l,c,c,l,0,0][a];m+=[0,0,l,c,c,l][a];return kb(b,t,m,g)};b.hsl2rgb=
function(a,l,b,g){this.is(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(b=a.l,l=a.s,a=a.h);if(1<a||1<l||1<b)a/=360,l/=100,b/=100;var t,m,c;a=360*a%360/60;c=2*l*(.5>b?b:1-b);l=c*(1-U(a%2-1));b=t=m=b-c/2;a=~~a;b+=[c,l,0,0,l,c][a];t+=[l,c,c,l,0,0][a];m+=[0,0,l,c,c,l][a];return kb(b,t,m,g)};b.rgb2hsb=function(a,b,e){e=jb(a,b,e);a=e[0];b=e[1];e=e[2];var g,t;g=N(a,b,e);t=g-Q(a,b,e);a=((0==t?null:g==a?(b-e)/t:g==b?(e-a)/t+2:(a-b)/t+4)+360)%6*60/360;return{h:a,s:0==t?0:t/g,b:g,toString:Ib}};b.rgb2hsl=function(a,
b,e){e=jb(a,b,e);a=e[0];b=e[1];e=e[2];var g,t,m;g=N(a,b,e);t=Q(a,b,e);m=g-t;a=((0==m?null:g==a?(b-e)/m:g==b?(e-a)/m+2:(a-b)/m+4)+360)%6*60/360;g=(g+t)/2;return{h:a,s:0==m?0:.5>g?m/(2*g):m/(2-2*g),l:g,toString:Jb}};b._path2string=function(){return this.join(",").replace(Eb,"$1")};b._preload=function(a,b){var e=s.doc.createElement("img");e.style.cssText="position:absolute;left:-9999em;top:-9999em";e.onload=function(){b.call(this);this.onload=null;s.doc.body.removeChild(this)};e.onerror=function(){s.doc.body.removeChild(this)};
s.doc.body.appendChild(e);e.src=a};b.getRGB=d(function(a){if(!a||(a=aa(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:k};if("none"==a)return{r:-1,g:-1,b:-1,hex:"none",toString:k};!Db.hasOwnProperty(a.toLowerCase().substring(0,2))&&"#"!=a.charAt()&&(a=Da(a));var l,e,g,t,m;if(a=a.match(Bb)){a[2]&&(g=pa(a[2].substring(5),16),e=pa(a[2].substring(3,5),16),l=pa(a[2].substring(1,3),16));a[3]&&(g=pa((m=a[3].charAt(3))+m,16),e=pa((m=a[3].charAt(2))+m,16),l=pa((m=a[3].charAt(1))+m,16));
a[4]&&(m=a[4].split(Na),l=K(m[0]),"%"==m[0].slice(-1)&&(l*=2.55),e=K(m[1]),"%"==m[1].slice(-1)&&(e*=2.55),g=K(m[2]),"%"==m[2].slice(-1)&&(g*=2.55),"rgba"==a[1].toLowerCase().slice(0,4)&&(t=K(m[3])),m[3]&&"%"==m[3].slice(-1)&&(t/=100));if(a[5])return m=a[5].split(Na),l=K(m[0]),"%"==m[0].slice(-1)&&(l*=2.55),e=K(m[1]),"%"==m[1].slice(-1)&&(e*=2.55),g=K(m[2]),"%"==m[2].slice(-1)&&(g*=2.55),"deg"!=m[0].slice(-3)&&"\u00b0"!=m[0].slice(-1)||(l/=360),"hsba"==a[1].toLowerCase().slice(0,4)&&(t=K(m[3])),m[3]&&
"%"==m[3].slice(-1)&&(t/=100),b.hsb2rgb(l,e,g,t);if(a[6])return m=a[6].split(Na),l=K(m[0]),"%"==m[0].slice(-1)&&(l*=2.55),e=K(m[1]),"%"==m[1].slice(-1)&&(e*=2.55),g=K(m[2]),"%"==m[2].slice(-1)&&(g*=2.55),"deg"!=m[0].slice(-3)&&"\u00b0"!=m[0].slice(-1)||(l/=360),"hsla"==a[1].toLowerCase().slice(0,4)&&(t=K(m[3])),m[3]&&"%"==m[3].slice(-1)&&(t/=100),b.hsl2rgb(l,e,g,t);a={r:l,g:e,b:g,toString:k};a.hex="#"+(16777216|g|e<<8|l<<16).toString(16).slice(1);b.is(t,"finite")&&(a.opacity=t);return a}return{r:-1,
g:-1,b:-1,hex:"none",error:1,toString:k}},b);b.hsb=d(function(a,l,e){return b.hsb2rgb(a,l,e).hex});b.hsl=d(function(a,l,e){return b.hsl2rgb(a,l,e).hex});b.rgb=d(function(a,b,e){return"#"+(16777216|e|b<<8|a<<16).toString(16).slice(1)});b.getColor=function(a){a=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||.75};var b=this.hsb2rgb(a.h,a.s,a.b);a.h+=.075;1<a.h&&(a.h=0,a.s-=.2,0>=a.s&&(this.getColor.start={h:0,s:1,b:a.b}));return b.hex};b.getColor.reset=function(){delete this.start};b.parsePathString=
function(a){if(!a)return null;var l=qa(a);if(l.arr)return ha(l.arr);var e={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},g=[];b.is(a,da)&&b.is(a[0],da)&&(g=ha(a));g.length||aa(a).replace(Fb,function(a,b,l){var c=[];a=b.toLowerCase();l.replace(gb,function(a,b){b&&c.push(+b)});"m"==a&&2<c.length&&(g.push([b].concat(c.splice(0,2))),a="l",b="m"==b?"l":"L");if("r"==a)g.push([b].concat(c));else for(;c.length>=e[a]&&(g.push([b].concat(c.splice(0,e[a]))),e[a]););});g.toString=b._path2string;l.arr=ha(g);return g};
b.parseTransformString=d(function(a){if(!a)return null;var l=[];b.is(a,da)&&b.is(a[0],da)&&(l=ha(a));l.length||aa(a).replace(Gb,function(a,b,t){var m=[];za.call(b);t.replace(gb,function(a,b){b&&m.push(+b)});l.push([b].concat(m))});l.toString=b._path2string;return l});var qa=function(a){var b=qa.ps=qa.ps||{};b[a]?b[a].sleep=100:b[a]={sleep:100};setTimeout(function(){for(var e in b)b.hasOwnProperty(e)&&e!=a&&(b[e].sleep--,!b[e].sleep&&delete b[e])});return b[a]};b.findDotsAtSegment=function(a,b,e,g,
t,m,c,f,d){var h=1-d,k=ea(h,3),n=ea(h,2),q=d*d,r=q*d,p=k*a+3*n*d*e+3*h*d*d*t+r*c,k=k*b+3*n*d*g+3*h*d*d*m+r*f,n=a+2*d*(e-a)+q*(t-2*e+a),r=b+2*d*(g-b)+q*(m-2*g+b),v=e+2*d*(t-e)+q*(c-2*t+e),q=g+2*d*(m-g)+q*(f-2*m+g);a=h*a+d*e;b=h*b+d*g;t=h*t+d*c;m=h*m+d*f;f=90-180*u.atan2(n-v,r-q)/ba;(n>v||r<q)&&(f+=180);return{x:p,y:k,m:{x:n,y:r},n:{x:v,y:q},start:{x:a,y:b},end:{x:t,y:m},alpha:f}};b.bezierBBox=function(a,l,e,g,t,m,c,f){b.is(a,"array")||(a=[a,l,e,g,t,m,c,f]);a=lb.apply(null,a);return{x:a.min.x,y:a.min.y,
x2:a.max.x,y2:a.max.y,width:a.max.x-a.min.x,height:a.max.y-a.min.y}};b.isPointInsideBBox=function(a,b,e){return b>=a.x&&b<=a.x2&&e>=a.y&&e<=a.y2};b.isBBoxIntersect=function(a,l){var e=b.isPointInsideBBox;return e(l,a.x,a.y)||e(l,a.x2,a.y)||e(l,a.x,a.y2)||e(l,a.x2,a.y2)||e(a,l.x,l.y)||e(a,l.x2,l.y)||e(a,l.x,l.y2)||e(a,l.x2,l.y2)||(a.x<l.x2&&a.x>l.x||l.x<a.x2&&l.x>a.x)&&(a.y<l.y2&&a.y>l.y||l.y<a.y2&&l.y>a.y)};b.pathIntersection=function(a,b){return Y(a,b)};b.pathIntersectionNumber=function(a,b){return Y(a,
b,1)};b.isPointInsidePath=function(a,l,e){var g=b.pathBBox(a);return b.isPointInsideBBox(g,l,e)&&1==Y(a,[["M",l,e],["H",g.x2+10]],1)%2};b._removedFactory=function(a){return function(){f("raphael.log",null,"Rapha\u00ebl: you are calling to method \u201c"+a+"\u201d of removed object",a)}};var Qa=b.pathBBox=function(a){var b=qa(a);if(b.bbox)return h(b.bbox);if(!a)return{x:0,y:0,width:0,height:0,x2:0,y2:0};a=ta(a);for(var e=0,g=0,t=[],m=[],c,f=0,d=a.length;f<d;f++)c=a[f],"M"==c[0]?(e=c[1],g=c[2],t.push(e),
m.push(g)):(e=lb(e,g,c[1],c[2],c[3],c[4],c[5],c[6]),t=t.concat(e.min.x,e.max.x),m=m.concat(e.min.y,e.max.y),e=c[5],g=c[6]);a=Q[S](0,t);c=Q[S](0,m);t=N[S](0,t);m=N[S](0,m);f=t-a;d=m-c;m={x:a,y:c,x2:t,y2:m,width:f,height:d,cx:a+f/2,cy:c+d/2};b.bbox=h(m);return m},ha=function(a){a=h(a);a.toString=b._path2string;return a},Kb=b._pathToRelative=function(a){var l=qa(a);if(l.rel)return ha(l.rel);b.is(a,da)&&b.is(a&&a[0],da)||(a=b.parsePathString(a));var e=[],g=0,c=0,m=0,f=0,d=0;"M"==a[0][0]&&(g=a[0][1],c=
a[0][2],m=g,f=c,d++,e.push(["M",g,c]));for(var h=a.length;d<h;d++){var k=e[d]=[],G=a[d];if(G[0]!=za.call(G[0]))switch(k[0]=za.call(G[0]),k[0]){case "a":k[1]=G[1];k[2]=G[2];k[3]=G[3];k[4]=G[4];k[5]=G[5];k[6]=+(G[6]-g).toFixed(3);k[7]=+(G[7]-c).toFixed(3);break;case "v":k[1]=+(G[1]-c).toFixed(3);break;case "m":m=G[1],f=G[2];default:for(var n=1,q=G.length;n<q;n++)k[n]=+(G[n]-(n%2?g:c)).toFixed(3)}else for(e[d]=[],"m"==G[0]&&(m=G[1]+g,f=G[2]+c),k=0,n=G.length;k<n;k++)e[d][k]=G[k];G=e[d].length;switch(e[d][0]){case "z":g=
m;c=f;break;case "h":g+=+e[d][G-1];break;case "v":c+=+e[d][G-1];break;default:g+=+e[d][G-2],c+=+e[d][G-1]}}e.toString=b._path2string;l.rel=ha(e);return e},mb=b._pathToAbsolute=function(a){var l=qa(a);if(l.abs)return ha(l.abs);b.is(a,da)&&b.is(a&&a[0],da)||(a=b.parsePathString(a));if(!a||!a.length)return[["M",0,0]];var e=[],g=0,c=0,m=0,f=0,d=0;"M"==a[0][0]&&(g=+a[0][1],c=+a[0][2],m=g,f=c,d++,e[0]=["M",g,c]);for(var h=3==a.length&&"M"==a[0][0]&&"R"==a[1][0].toUpperCase()&&"Z"==a[2][0].toUpperCase(),
k,G=d,n=a.length;G<n;G++){e.push(d=[]);k=a[G];if(k[0]!=fb.call(k[0]))switch(d[0]=fb.call(k[0]),d[0]){case "A":d[1]=k[1];d[2]=k[2];d[3]=k[3];d[4]=k[4];d[5]=k[5];d[6]=+(k[6]+g);d[7]=+(k[7]+c);break;case "V":d[1]=+k[1]+c;break;case "H":d[1]=+k[1]+g;break;case "R":for(var p=[g,c].concat(k.slice(1)),r=2,s=p.length;r<s;r++)p[r]=+p[r]+g,p[++r]=+p[r]+c;e.pop();e=e.concat(q(p,h));break;case "M":m=+k[1]+g,f=+k[2]+c;default:for(r=1,s=k.length;r<s;r++)d[r]=+k[r]+(r%2?g:c)}else if("R"==k[0])p=[g,c].concat(k.slice(1)),
e.pop(),e=e.concat(q(p,h)),d=["R"].concat(k.slice(-2));else for(p=0,r=k.length;p<r;p++)d[p]=k[p];switch(d[0]){case "Z":g=m;c=f;break;case "H":g=d[1];break;case "V":c=d[1];break;case "M":m=d[d.length-2],f=d[d.length-1];default:g=d[d.length-2],c=d[d.length-1]}}e.toString=b._path2string;l.abs=ha(e);return e},Ea=function(a,b,e,g){return[a,b,e,g,e,g]},nb=function(a,b,e,g,c,m){var f=1/3,d=2/3;return[f*a+d*e,f*b+d*g,f*c+d*e,f*m+d*g,c,m]},ob=function(a,b,e,g,c,m,f,h,k,q){var G=120*ba/180,n=ba/180*(+c||0),
p=[],r,s=d(function(a,b,l){var g=a*u.cos(l)-b*u.sin(l);a=a*u.sin(l)+b*u.cos(l);return{x:g,y:a}});if(q)x=q[0],r=q[1],m=q[2],v=q[3];else{r=s(a,b,-n);a=r.x;b=r.y;r=s(h,k,-n);h=r.x;k=r.y;u.cos(ba/180*c);u.sin(ba/180*c);r=(a-h)/2;x=(b-k)/2;v=r*r/(e*e)+x*x/(g*g);1<v&&(v=u.sqrt(v),e*=v,g*=v);var v=e*e,P=g*g,v=(m==f?-1:1)*u.sqrt(U((v*P-v*x*x-P*r*r)/(v*x*x+P*r*r)));m=v*e*x/g+(a+h)/2;var v=v*-g*r/e+(b+k)/2,x=u.asin(((b-v)/g).toFixed(9));r=u.asin(((k-v)/g).toFixed(9));x=a<m?ba-x:x;r=h<m?ba-r:r;0>x&&(x=2*ba+
x);0>r&&(r=2*ba+r);f&&x>r&&(x-=2*ba);!f&&r>x&&(r-=2*ba)}if(U(r-x)>G){var p=r,P=h,w=k;r=x+G*(f&&r>x?1:-1);h=m+e*u.cos(r);k=v+g*u.sin(r);p=ob(h,k,e,g,c,0,f,P,w,[r,p,m,v])}m=r-x;c=u.cos(x);G=u.sin(x);f=u.cos(r);r=u.sin(r);m=u.tan(m/4);e=4/3*e*m;m*=4/3*g;g=[a,b];a=[a+e*G,b-m*c];b=[h+e*r,k-m*f];h=[h,k];a[0]=2*g[0]-a[0];a[1]=2*g[1]-a[1];if(q)return[a,b,h].concat(p);p=[a,b,h].concat(p).join().split(",");q=[];h=0;for(k=p.length;h<k;h++)q[h]=h%2?s(p[h-1],p[h],n).y:s(p[h],p[h+1],n).x;return q},Fa=function(a,
b,e,g,c,m,f,d,h){var k=1-h;return{x:ea(k,3)*a+3*ea(k,2)*h*e+3*k*h*h*c+ea(h,3)*f,y:ea(k,3)*b+3*ea(k,2)*h*g+3*k*h*h*m+ea(h,3)*d}},lb=d(function(a,b,e,g,c,m,f,d){var h=c-2*e+a-(f-2*c+e),k=2*(e-a)-2*(c-e),G=a-e,n=(-k+u.sqrt(k*k-4*h*G))/2/h,h=(-k-u.sqrt(k*k-4*h*G))/2/h,q=[b,d],r=[a,f];"1e12"<U(n)&&(n=.5);"1e12"<U(h)&&(h=.5);0<n&&1>n&&(n=Fa(a,b,e,g,c,m,f,d,n),r.push(n.x),q.push(n.y));0<h&&1>h&&(n=Fa(a,b,e,g,c,m,f,d,h),r.push(n.x),q.push(n.y));h=m-2*g+b-(d-2*m+g);k=2*(g-b)-2*(m-g);G=b-g;n=(-k+u.sqrt(k*k-
4*h*G))/2/h;h=(-k-u.sqrt(k*k-4*h*G))/2/h;"1e12"<U(n)&&(n=.5);"1e12"<U(h)&&(h=.5);0<n&&1>n&&(n=Fa(a,b,e,g,c,m,f,d,n),r.push(n.x),q.push(n.y));0<h&&1>h&&(n=Fa(a,b,e,g,c,m,f,d,h),r.push(n.x),q.push(n.y));return{min:{x:Q[S](0,r),y:Q[S](0,q)},max:{x:N[S](0,r),y:N[S](0,q)}}}),ta=b._path2curve=d(function(a,b){var e=!b&&qa(a);if(!b&&e.curve)return ha(e.curve);var g=mb(a),c=b&&mb(b),m={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d=function(a,b,l){if(!a)return["C",
b.x,b.y,b.x,b.y,b.x,b.y];a[0]in{T:1,Q:1}||(b.qx=b.qy=null);switch(a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"].concat(ob[S](0,[b.x,b.y].concat(a.slice(1))));break;case "S":"C"==l||"S"==l?(l=2*b.x-b.bx,b=2*b.y-b.by):(l=b.x,b=b.y);a=["C",l,b].concat(a.slice(1));break;case "T":"Q"==l||"T"==l?(b.qx=2*b.x-b.qx,b.qy=2*b.y-b.qy):(b.qx=b.x,b.qy=b.y);a=["C"].concat(nb(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(nb(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=
["C"].concat(Ea(b.x,b.y,a[1],a[2]));break;case "H":a=["C"].concat(Ea(b.x,b.y,a[1],b.y));break;case "V":a=["C"].concat(Ea(b.x,b.y,b.x,a[1]));break;case "Z":a=["C"].concat(Ea(b.x,b.y,b.X,b.Y))}return a},h=function(a,b){if(7<a[b].length){a[b].shift();for(var l=a[b];l.length;)a.splice(b++,0,["C"].concat(l.splice(0,6)));a.splice(b,1);n=N(g.length,c&&c.length||0)}},k=function(a,b,l,e,m){a&&b&&"M"==a[m][0]&&"M"!=b[m][0]&&(b.splice(m,0,["M",e.x,e.y]),l.bx=0,l.by=0,l.x=a[m][1],l.y=a[m][2],n=N(g.length,c&&
c.length||0))},q=0,n=N(g.length,c&&c.length||0);for(;q<n;q++){g[q]=d(g[q],m);h(g,q);c&&(c[q]=d(c[q],f));c&&h(c,q);k(g,c,m,f,q);k(c,g,f,m,q);var p=g[q],r=c&&c[q],s=p.length,v=c&&r.length;m.x=p[s-2];m.y=p[s-1];m.bx=K(p[s-4])||m.x;m.by=K(p[s-3])||m.y;f.bx=c&&(K(r[v-4])||f.x);f.by=c&&(K(r[v-3])||f.y);f.x=c&&r[v-2];f.y=c&&r[v-1]}c||(e.curve=ha(g));return c?[g,c]:g},null,ha);b._parseDots=d(function(a){for(var l=[],e=0,g=a.length;e<g;e++){var c={},m=a[e].match(/^([^:]*):?([\d\.]*)/);c.color=b.getRGB(m[1]);
if(c.color.error)return null;c.color=c.color.hex;m[2]&&(c.offset=m[2]+"%");l.push(c)}e=1;for(g=l.length-1;e<g;e++)if(!l[e].offset){a=K(l[e-1].offset||0);m=0;for(c=e+1;c<g;c++)if(l[c].offset){m=l[c].offset;break}m||(m=100,c=g);m=K(m);for(m=(m-a)/(c-e+1);e<c;e++)a+=m,l[e].offset=a+"%"}return l});var Ga=b._tear=function(a,b){a==b.top&&(b.top=a.prev);a==b.bottom&&(b.bottom=a.next);a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)};b._tofront=function(a,b){b.top!==a&&(Ga(a,b),a.next=null,a.prev=
b.top,b.top.next=a,b.top=a)};b._toback=function(a,b){b.bottom!==a&&(Ga(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)};b._insertafter=function(a,b,e){Ga(a,e);b==e.top&&(e.top=a);b.next&&(b.next.prev=a);a.next=b.next;a.prev=b;b.next=a};b._insertbefore=function(a,b,e){Ga(a,e);b==e.bottom&&(e.bottom=a);b.prev&&(b.prev.next=a);a.prev=b.prev;b.prev=a;a.next=b};var Lb=b.toMatrix=function(a,b){var e=Qa(a),g={_:{transform:""},getBBox:function(){return e}};ab(g,b);return g.matrix};b.transformPath=
function(a,b){return Oa(a,Lb(a,b))};var ab=b._extractTransform=function(a,l){if(null==l)return a._.transform;l=aa(l).replace(/\.{3}|\u2026/g,a._.transform||"");var e=b.parseTransformString(l),g=0,c=0,m=0,f=1,d=1,h=a._,m=new ga;h.transform=e||[];if(e)for(var c=0,k=e.length;c<k;c++){var q=e[c],n=q.length,p=aa(q[0]).toLowerCase(),r=q[0]!=p,s=r?m.invert():0,v;"t"==p&&3==n?r?(n=s.x(0,0),p=s.y(0,0),r=s.x(q[1],q[2]),s=s.y(q[1],q[2]),m.translate(r-n,s-p)):m.translate(q[1],q[2]):"r"==p?2==n?(v=v||a.getBBox(1),
m.rotate(q[1],v.x+v.width/2,v.y+v.height/2),g+=q[1]):4==n&&(r?(r=s.x(q[2],q[3]),s=s.y(q[2],q[3]),m.rotate(q[1],r,s)):m.rotate(q[1],q[2],q[3]),g+=q[1]):"s"==p?2==n||3==n?(v=v||a.getBBox(1),m.scale(q[1],q[n-1],v.x+v.width/2,v.y+v.height/2),f*=q[1],d*=q[n-1]):5==n&&(r?(r=s.x(q[3],q[4]),s=s.y(q[3],q[4]),m.scale(q[1],q[2],r,s)):m.scale(q[1],q[2],q[3],q[4]),f*=q[1],d*=q[2]):"m"==p&&7==n&&m.add(q[1],q[2],q[3],q[4],q[5],q[6]);h.dirtyT=1;a.matrix=m}a.matrix=m;h.sx=f;h.sy=d;h.deg=g;h.dx=c=m.e;h.dy=m=m.f;1==
f&&1==d&&!g&&h.bbox?(h.bbox.x+=+c,h.bbox.y+=+m):h.dirtyT=1},pb=function(a){var b=a[0];switch(b.toLowerCase()){case "t":return[b,0,0];case "m":return[b,1,0,0,1,0,0];case "r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case "s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}},wb=b._equaliseTransform=function(a,l){l=aa(l).replace(/\.{3}|\u2026/g,a);a=b.parseTransformString(a)||[];l=b.parseTransformString(l)||[];for(var e=N(a.length,l.length),g=[],c=[],m=0,f,d,h,k;m<e;m++){h=a[m]||pb(l[m]);
k=l[m]||pb(h);if(h[0]!=k[0]||"r"==h[0].toLowerCase()&&(h[2]!=k[2]||h[3]!=k[3])||"s"==h[0].toLowerCase()&&(h[3]!=k[3]||h[4]!=k[4]))return;g[m]=[];c[m]=[];f=0;for(d=N(h.length,k.length);f<d;f++)f in h&&(g[m][f]=h[f]),f in k&&(c[m][f]=k[f])}return{from:g,to:c}};b._getContainer=function(a,l,e,g){var c;c=null!=g||b.is(a,"object")?a:s.doc.getElementById(a);if(null!=c)return c.tagName?null==l?{container:c,width:c.style.pixelWidth||c.offsetWidth,height:c.style.pixelHeight||c.offsetHeight}:{container:c,width:l,
height:e}:{container:1,x:a,y:l,width:e,height:g}};b.pathToRelative=Kb;b._engine={};b.path2curve=ta;b.matrix=function(a,b,e,g,c,m){return new ga(a,b,e,g,c,m)};(function(a){function l(a){return a[0]*a[0]+a[1]*a[1]}function e(a){var b=u.sqrt(l(a));a[0]&&(a[0]/=b);a[1]&&(a[1]/=b)}a.add=function(a,b,l,e,c,f){var d=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]];b=[[a,l,c],[b,e,f],[0,0,1]];a&&a instanceof ga&&(b=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=0;3>a;a++)for(l=0;3>l;l++){for(e=
c=0;3>e;e++)c+=h[a][e]*b[e][l];d[a][l]=c}this.a=d[0][0];this.b=d[1][0];this.c=d[0][1];this.d=d[1][1];this.e=d[0][2];this.f=d[1][2]};a.invert=function(){var a=this.a*this.d-this.b*this.c;return new ga(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/a)};a.clone=function(){return new ga(this.a,this.b,this.c,this.d,this.e,this.f)};a.translate=function(a,b){this.add(1,0,0,1,a,b)};a.scale=function(a,b,l,e){null==b&&(b=a);(l||e)&&this.add(1,0,0,1,l,e);
this.add(a,0,0,b,0,0);(l||e)&&this.add(1,0,0,1,-l,-e)};a.rotate=function(a,l,e){a=b.rad(a);l=l||0;e=e||0;var c=+u.cos(a).toFixed(9);a=+u.sin(a).toFixed(9);this.add(c,a,-a,c,l,e);this.add(1,0,0,1,-l,-e)};a.x=function(a,b){return a*this.a+b*this.c+this.e};a.y=function(a,b){return a*this.b+b*this.d+this.f};a.get=function(a){return+this[aa.fromCharCode(97+a)].toFixed(4)};a.toString=function(){return b.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),
this.get(2),this.get(1),this.get(3),0,0].join()};a.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"};a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};a.split=function(){var a={};a.dx=this.e;a.dy=this.f;var c=[[this.a,this.c],[this.b,this.d]];a.scalex=u.sqrt(l(c[0]));e(c[0]);a.shear=c[0][0]*c[1][0]+c[0][1]*c[1][1];
c[1]=[c[1][0]-c[0][0]*a.shear,c[1][1]-c[0][1]*a.shear];a.scaley=u.sqrt(l(c[1]));e(c[1]);a.shear/=a.scaley;var m=-c[0][1],c=c[1][1];0>c?(a.rotate=b.deg(u.acos(c)),0>m&&(a.rotate=360-a.rotate)):a.rotate=b.deg(u.asin(m));a.isSimple=!+a.shear.toFixed(9)&&(a.scalex.toFixed(9)==a.scaley.toFixed(9)||!a.rotate);a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate;a.noRotation=!+a.shear.toFixed(9)&&!a.rotate;return a};a.toTransformString=function(a){a=a||this.split();return a.isSimple?
(a.scalex=+a.scalex.toFixed(4),a.scaley=+a.scaley.toFixed(4),a.rotate=+a.rotate.toFixed(4),(a.dx||a.dy?"t"+[a.dx,a.dy]:"")+(1!=a.scalex||1!=a.scaley?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[a.rotate,0,0]:"")):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}})(ga.prototype);var Ha=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."==navigator.vendor&&(Ha&&4>Ha[1]||"iP"==navigator.platform.slice(0,2))||
"Google Inc."==navigator.vendor&&Ha&&8>Ha[1]?O.safari=function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){a.remove()})}:O.safari=Hb;for(var Mb=function(){this.returnValue=!1},Nb=function(){return this.originalEvent.preventDefault()},Ob=function(){this.cancelBubble=!0},Pb=function(){return this.originalEvent.stopPropagation()},qb=function(a){return{x:a.clientX+(s.doc.documentElement.scrollLeft||s.doc.body.scrollLeft),y:a.clientY+(s.doc.documentElement.scrollTop||
s.doc.body.scrollTop)}},Qb=function(){if(s.doc.addEventListener)return function(a,b,c,g){var f=function(a){var b=qb(a);return c.call(g,a,b.x,b.y)};a.addEventListener(b,f,!1);xa&&ya[b]&&a.addEventListener(ya[b],function(b){for(var l=qb(b),f=b,d=0,h=b.targetTouches&&b.targetTouches.length;d<h;d++)if(b.targetTouches[d].target==a){b=b.targetTouches[d];b.originalEvent=f;b.preventDefault=Nb;b.stopPropagation=Pb;break}return c.call(g,b,l.x,l.y)},!1);return function(){a.removeEventListener(b,f,!1);xa&&ya[b]&&
a.removeEventListener(ya[b],f,!1);return!0}};if(s.doc.attachEvent)return function(a,b,c,g){var f=function(a){a=a||s.win.event;var b=a.clientX+(s.doc.documentElement.scrollLeft||s.doc.body.scrollLeft),l=a.clientY+(s.doc.documentElement.scrollTop||s.doc.body.scrollTop);a.preventDefault=a.preventDefault||Mb;a.stopPropagation=a.stopPropagation||Ob;return c.call(g,a,b,l)};a.attachEvent("on"+b,f);return function(){a.detachEvent("on"+b,f);return!0}}}(),na=[],Ra=function(a){for(var b=a.clientX,c=a.clientY,
g=s.doc.documentElement.scrollTop||s.doc.body.scrollTop,d=s.doc.documentElement.scrollLeft||s.doc.body.scrollLeft,m,h=na.length;h--;){m=na[h];if(xa&&a.touches)for(var k=a.touches.length,q;k--;){if(q=a.touches[k],q.identifier==m.el._drag.id){b=q.clientX;c=q.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();var k=m.el.node,p=k.nextSibling,G=k.parentNode,n=k.style.display;s.win.opera&&G.removeChild(k);k.style.display="none";q=m.el.paper.getElementByPoint(b,c);
k.style.display=n;s.win.opera&&(p?G.insertBefore(k,p):G.appendChild(k));q&&f("raphael.drag.over."+m.el.id,m.el,q);b+=d;c+=g;f("raphael.drag.move."+m.el.id,m.move_scope||m.el,b-m.el._drag.x,c-m.el._drag.y,b,c,a)}},Sa=function(a){b.unmousemove(Ra).unmouseup(Sa);for(var l=na.length,c;l--;)c=na[l],c.el._drag={},f("raphael.drag.end."+c.el.id,c.end_scope||c.start_scope||c.move_scope||c.el,a);na=[]},C=b.el={},rb=eb.length;rb--;)(function(a){b[a]=C[a]=function(c,e){b.is(c,"function")&&(this.events=this.events||
[],this.events.push({name:a,f:c,unbind:Qb(this.shape||this.node||s.doc,a,c,e||this)}));return this};b["un"+a]=C["un"+a]=function(c){for(var e=this.events||[],g=e.length;g--;)e[g].name!=a||!b.is(c,"undefined")&&e[g].f!=c||(e[g].unbind(),e.splice(g,1),!e.length&&delete this.events);return this}})(eb[rb]);C.data=function(a,c){var e=ra[this.id]=ra[this.id]||{};if(0==arguments.length)return e;if(1==arguments.length){if(b.is(a,"object")){for(var g in a)a.hasOwnProperty(g)&&this.data(g,a[g]);return this}f("raphael.data.get."+
this.id,this,e[a],a);return e[a]}e[a]=c;f("raphael.data.set."+this.id,this,c,a);return this};C.removeData=function(a){null==a?ra[this.id]={}:ra[this.id]&&delete ra[this.id][a];return this};C.getData=function(){return h(ra[this.id]||{})};C.hover=function(a,b,c,g){return this.mouseover(a,c).mouseout(b,g||c)};C.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var sa=[];C.drag=function(a,c,e,g,d,m){function h(k){(k.originalEvent||k).preventDefault();var q=k.clientX,p=k.clientY,Za=s.doc.documentElement.scrollTop||
s.doc.body.scrollTop,n=s.doc.documentElement.scrollLeft||s.doc.body.scrollLeft;this._drag.id=k.identifier;if(xa&&k.touches)for(var u=k.touches.length,r;u--;)if(r=k.touches[u],this._drag.id=r.identifier,r.identifier==this._drag.id){q=r.clientX;p=r.clientY;break}this._drag.x=q+n;this._drag.y=p+Za;!na.length&&b.mousemove(Ra).mouseup(Sa);na.push({el:this,move_scope:g,start_scope:d,end_scope:m});c&&f.on("raphael.drag.start."+this.id,c);a&&f.on("raphael.drag.move."+this.id,a);e&&f.on("raphael.drag.end."+
this.id,e);f("raphael.drag.start."+this.id,d||g||this,k.clientX+n,k.clientY+Za,k)}this._drag={};sa.push({el:this,start:h});this.mousedown(h);return this};C.onDragOver=function(a){a?f.on("raphael.drag.over."+this.id,a):f.unbind("raphael.drag.over."+this.id)};C.undrag=function(){for(var a=sa.length;a--;)sa[a].el==this&&(this.unmousedown(sa[a].start),sa.splice(a,1),f.unbind("raphael.drag.*."+this.id));!sa.length&&b.unmousemove(Ra).unmouseup(Sa);na=[]};O.circle=function(a,c,e){a=b._engine.circle(this,
a||0,c||0,e||0);this.__set__&&this.__set__.push(a);return a};O.rect=function(a,c,e,g,f){a=b._engine.rect(this,a||0,c||0,e||0,g||0,f||0);this.__set__&&this.__set__.push(a);return a};O.ellipse=function(a,c,e,g){a=b._engine.ellipse(this,a||0,c||0,e||0,g||0);this.__set__&&this.__set__.push(a);return a};O.path=function(a){a&&!b.is(a,"string")&&!b.is(a[0],da)&&(a+="");var c=b._engine.path(b.format[S](b,arguments),this);this.__set__&&this.__set__.push(c);return c};O.image=function(a,c,e,g,f){a=b._engine.image(this,
a||"about:blank",c||0,e||0,g||0,f||0);this.__set__&&this.__set__.push(a);return a};O.text=function(a,c,e){a=b._engine.text(this,a||0,c||0,aa(e));this.__set__&&this.__set__.push(a);return a};O.set=function(a){!b.is(a,"array")&&(a=Array.prototype.splice.call(arguments,0,arguments.length));var c=new ua(a);this.__set__&&this.__set__.push(c);c.paper=this;c.type="set";return c};O.setStart=function(a){this.__set__=a||this.set()};O.setFinish=function(a){a=this.__set__;delete this.__set__;return a};O.setSize=
function(a,c){return b._engine.setSize.call(this,a,c)};O.setViewBox=function(a,c,e,g,f){return b._engine.setViewBox.call(this,a,c,e,g,f)};O.top=O.bottom=null;O.raphael=b;O.getElementByPoint=function(a,b){var c,g,f=this.canvas,m=s.doc.elementFromPoint(a,b);if(s.win.opera&&"svg"==m.tagName){g=f.getBoundingClientRect();c=f.ownerDocument;var d=c.body,h=c.documentElement;c=g.top+(s.win.pageYOffset||h.scrollTop||d.scrollTop)-(h.clientTop||d.clientTop||0);g=g.left+(s.win.pageXOffset||h.scrollLeft||d.scrollLeft)-
(h.clientLeft||d.clientLeft||0);d=f.createSVGRect();d.x=a-g;d.y=b-c;d.width=d.height=1;c=f.getIntersectionList(d,null);c.length&&(m=c[c.length-1])}if(!m)return null;for(;m.parentNode&&m!=f.parentNode&&!m.raphael;)m=m.parentNode;m==this.canvas.parentNode&&(m=f);return m=m&&m.raphael?this.getById(m.raphaelid):null};O.getElementsByBBox=function(a){var c=this.set();this.forEach(function(e){b.isBBoxIntersect(e.getBBox(),a)&&c.push(e)});return c};O.getById=function(a){for(var b=this.bottom;b;){if(b.id==
a)return b;b=b.next}return null};O.forEach=function(a,b){for(var c=this.bottom;c&&!1!==a.call(b,c);)c=c.next;return this};O.getElementsByPoint=function(a,b){var c=this.set();this.forEach(function(g){g.isPointInside(a,b)&&c.push(g)});return c};C.isPointInside=function(a,c){var e=this.realPath=Ba[this.type](this);this.attr("transform")&&this.attr("transform").length&&(e=b.transformPath(e,this.attr("transform")));return b.isPointInsidePath(e,a,c)};C.getBBox=function(a){if(this.removed)return{};var b=
this._;if(a){if(b.dirty||!b.bboxwt)this.realPath=Ba[this.type](this),b.bboxwt=Qa(this.realPath),b.bboxwt.toString=Ya,b.dirty=0;return b.bboxwt}if(b.dirty||b.dirtyT||!b.bbox){if(b.dirty||!this.realPath)b.bboxwt=0,this.realPath=Ba[this.type](this);b.bbox=Qa(Oa(this.realPath,this.matrix));b.bbox.toString=Ya;b.dirty=b.dirtyT=0}return b.bbox};C.clone=function(){if(this.removed)return null;var a=this.paper[this.type]().attr(this.attr());this.__set__&&this.__set__.push(a);return a};C.glow=function(a){if("text"==
this.type)return null;a=a||{};var b=(a.width||10)+(+this.attr("stroke-width")||1),c=a.fill||!1,g=a.opacity||.5,f=a.offsetx||0,m=a.offsety||0;a=a.color||"#000";for(var d=b/2,h=this.paper,k=h.set(),q=this.realPath||Ba[this.type](this),q=this.matrix?Oa(q,this.matrix):q,p=1;p<d+1;p++)k.push(h.path(q).attr({stroke:a,fill:c?a:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(b/d*p).toFixed(3),opacity:+(g/d).toFixed(3)}));return k.insertBefore(this).translate(f,m)};var Ta=function(a,
c,e,g,f,m,d,h,k){return null==k?p(a,c,e,g,f,m,d,h):b.findDotsAtSegment(a,c,e,g,f,m,d,h,z(a,c,e,g,f,m,d,h,k))},Ua=function(a,c){return function(e,g,f){e=ta(e);for(var m,d,h,k,q="",p={},n=0,s=0,r=e.length;s<r;s++){h=e[s];if("M"==h[0])m=+h[1],d=+h[2];else{k=Ta(m,d,h[1],h[2],h[3],h[4],h[5],h[6]);if(n+k>g){if(c&&!p.start){m=Ta(m,d,h[1],h[2],h[3],h[4],h[5],h[6],g-n);q+=["C"+m.start.x,m.start.y,m.m.x,m.m.y,m.x,m.y];if(f)return q;p.start=q;q=["M"+m.x,m.y+"C"+m.n.x,m.n.y,m.end.x,m.end.y,h[5],h[6]].join();
n+=k;m=+h[5];d=+h[6];continue}if(!a&&!c)return m=Ta(m,d,h[1],h[2],h[3],h[4],h[5],h[6],g-n),{x:m.x,y:m.y,alpha:m.alpha}}n+=k;m=+h[5];d=+h[6]}q+=h.shift()+h}p.end=q;m=a?n:c?p:b.findDotsAtSegment(m,d,h[0],h[1],h[2],h[3],h[4],h[5],1);m.alpha&&(m={x:m.x,y:m.y,alpha:m.alpha});return m}},sb=Ua(1),tb=Ua(),Va=Ua(0,1);b.getTotalLength=sb;b.getPointAtLength=tb;b.getSubpath=function(a,b,c){if(1E-6>this.getTotalLength(a)-c)return Va(a,b).end;a=Va(a,c,1);return b?Va(a,b).end:a};C.getTotalLength=function(){var a=
this.getPath();if(a)return this.node.getTotalLength?this.node.getTotalLength():sb(a)};C.getPointAtLength=function(a){var b=this.getPath();if(b)return tb(b,a)};C.getPath=function(){var a,c=b._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return c&&(a=c(this)),a};C.getSubpath=function(a,c){var e=this.getPath();if(e)return b.getSubpath(e,a,c)};var fa=b.easing_formulas={linear:function(a){return a},"<":function(a){return ea(a,1.7)},">":function(a){return ea(a,.48)},"<>":function(a){var b=
.48-a/1.04,c=u.sqrt(.1734+b*b);a=c-b;a=ea(U(a),1/3)*(0>a?-1:1);b=-c-b;b=ea(U(b),1/3)*(0>b?-1:1);a=a+b+.5;return 3*(1-a)*a*a+a*a*a},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){--a;return a*a*(2.70158*a+1.70158)+1},elastic:function(a){return a==!!a?a:ea(2,-10*a)*u.sin(2*(a-.075)*ba/.3)+1},bounce:function(a){a<1/2.75?a*=7.5625*a:a<2/2.75?(a-=1.5/2.75,a=7.5625*a*a+.75):a<2.5/2.75?(a-=2.25/2.75,a=7.5625*a*a+.9375):(a-=2.625/2.75,a=7.5625*a*a+.984375);return a}};fa.easeIn=fa["ease-in"]=
fa["<"];fa.easeOut=fa["ease-out"]=fa[">"];fa.easeInOut=fa["ease-in-out"]=fa["<>"];fa["back-in"]=fa.backIn;fa["back-out"]=fa.backOut;var A=[],bb=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||c.oRequestAnimationFrame||c.msRequestAnimationFrame||function(a){setTimeout(a,16)},La=function(){for(var a=+new Date,c=0;c<A.length;c++){var e=A[c];if(!e.el.removed&&!e.paused){var g=a-e.start,d=e.ms,m=e.easing,h=e.from,k=e.diff,q=e.to,p=e.el,s={},n,u={},r;e.initstatus?(g=
(e.initstatus*e.anim.top-e.prev)/(e.percent-e.prev)*d,e.status=e.initstatus,delete e.initstatus,e.stop&&A.splice(c--,1)):e.status=(e.prev+g/d*(e.percent-e.prev))/e.anim.top;if(!(0>g))if(g<d){var z=m(g/d),v;for(v in h)if(h.hasOwnProperty(v)){switch(Ka[v]){case W:n=+h[v]+z*d*k[v];break;case "colour":n="rgb("+[Wa(Ma(h[v].r+z*d*k[v].r)),Wa(Ma(h[v].g+z*d*k[v].g)),Wa(Ma(h[v].b+z*d*k[v].b))].join()+")";break;case "path":n=[];g=0;for(m=h[v].length;g<m;g++){n[g]=[h[v][g][0]];q=1;for(u=h[v][g].length;q<u;q++)n[g][q]=
+h[v][g][q]+z*d*k[v][g][q];n[g]=n[g].join(" ")}n=n.join(" ");break;case "transform":if(k[v].real)for(n=[],g=0,m=h[v].length;g<m;g++)for(n[g]=[h[v][g][0]],q=1,u=h[v][g].length;q<u;q++)n[g][q]=h[v][g][q]+z*d*k[v][g][q];else n=function(a){return+h[v][a]+z*d*k[v][a]},n=[["m",n(0),n(1),n(2),n(3),n(4),n(5)]];break;case "csv":if("clip-rect"==v)for(n=[],g=4;g--;)n[g]=+h[v][g]+z*d*k[v][g];break;default:for(m=[].concat(h[v]),n=[],g=p.paper.customAttributes[v].length;g--;)n[g]=+m[g]+z*d*k[v][g]}s[v]=n}p.attr(s);
(function(a,b,c){setTimeout(function(){f("raphael.anim.frame."+a,b,c)})})(p.id,p,e.anim)}else{(function(a,c,e){setTimeout(function(){f("raphael.anim.frame."+c.id,c,e);f("raphael.anim.finish."+c.id,c,e);b.is(a,"function")&&a.call(c)})})(e.callback,p,e.anim);p.attr(q);A.splice(c--,1);if(1<e.repeat&&!e.next){for(r in q)q.hasOwnProperty(r)&&(u[r]=e.totalOrigin[r]);e.el.attr(u);F(e.anim,e.el,e.anim.percents[0],null,e.totalOrigin,e.repeat-1)}e.next&&!e.stop&&F(e.anim,e.el,e.next,null,e.totalOrigin,e.repeat)}}}b.svg&&
p&&p.paper&&p.paper.safari();A.length&&bb(La)},Wa=function(a){return 255<a?255:0>a?0:a};C.animateWith=function(a,c,e,g,f,m){if(this.removed)return m&&m.call(this),this;e=e instanceof I?e:b.animation(e,g,f,m);F(e,this,e.percents[0],null,this.attr());e=0;for(g=A.length;e<g;e++)if(A[e].anim==c&&A[e].el==a){A[g-1].start=A[e].start;break}return this};C.onAnimation=function(a){a?f.on("raphael.anim.frame."+this.id,a):f.unbind("raphael.anim.frame."+this.id);return this};I.prototype.delay=function(a){var b=
new I(this.anim,this.ms);b.times=this.times;b.del=+a||0;return b};I.prototype.repeat=function(a){var b=new I(this.anim,this.ms);b.del=this.del;b.times=u.floor(N(a,0))||1;return b};b.animation=function(a,c,e,g){if(a instanceof I)return a;if(b.is(e,"function")||!e)g=g||e||null,e=null;a=Object(a);c=+c||0;var f={},m,d;for(d in a)a.hasOwnProperty(d)&&K(d)!=d&&K(d)+"%"!=d&&(m=!0,f[d]=a[d]);return m?(e&&(f.easing=e),g&&(f.callback=g),new I({100:f},c)):new I(a,c)};C.animate=function(a,c,e,g){if(this.removed)return g&&
g.call(this),this;a=a instanceof I?a:b.animation(a,c,e,g);F(a,this,a.percents[0],null,this.attr());return this};C.setTime=function(a,b){a&&null!=b&&this.status(a,Q(b,a.ms)/a.ms);return this};C.status=function(a,b){var c=[],g=0,f,m;if(null!=b)return F(a,this,-1,Q(b,1)),this;for(f=A.length;g<f;g++)if(m=A[g],m.el.id==this.id&&(!a||m.anim==a)){if(a)return m.status;c.push({anim:m.anim,status:m.status})}return a?0:c};C.pause=function(a){for(var b=0;b<A.length;b++)A[b].el.id!=this.id||a&&A[b].anim!=a||!1===
f("raphael.anim.pause."+this.id,this,A[b].anim)||(A[b].paused=!0);return this};C.resume=function(a){for(var b=0;b<A.length;b++)if(A[b].el.id==this.id&&(!a||A[b].anim==a)){var c=A[b];!1!==f("raphael.anim.resume."+this.id,this,c.anim)&&(delete c.paused,this.status(c.anim,c.status))}return this};C.stop=function(a){for(var b=0;b<A.length;b++)A[b].el.id!=this.id||a&&A[b].anim!=a||!1!==f("raphael.anim.stop."+this.id,this,A[b].anim)&&A.splice(b--,1);return this};f.on("raphael.remove",X);f.on("raphael.clear",
X);C.toString=function(){return"Rapha\u00ebl\u2019s object"};var ua=function(a){this.items=[];this.length=0;this.type="set";if(a)for(var b=0,c=a.length;b<c;b++)!a[b]||a[b].constructor!=C.constructor&&a[b].constructor!=ua||(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},Z=ua.prototype;Z.push=function(){for(var a,b,c=0,g=arguments.length;c<g;c++)!(a=arguments[c])||a.constructor!=C.constructor&&a.constructor!=ua||(b=this.items.length,this[b]=this.items[b]=a,this.length++);
return this};Z.pop=function(){this.length&&delete this[this.length--];return this.items.pop()};Z.forEach=function(a,b){for(var c=0,g=this.items.length;c<g&&!1!==a.call(b,this.items[c],c);c++);return this};for(var Xa in C)C.hasOwnProperty(Xa)&&(Z[Xa]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a][S](c,b)})}}(Xa));Z.attr=function(a,c){if(a&&b.is(a,da)&&b.is(a[0],"object"))for(var e=0,g=a.length;e<g;e++)this.items[e].attr(a[e]);else for(e=0,g=this.items.length;e<g;e++)this.items[e].attr(a,
c);return this};Z.clear=function(){for(;this.length;)this.pop()};Z.splice=function(a,b,c){a=0>a?N(this.length+a,0):a;b=N(0,Q(this.length-a,b));var g=[],f=[],m=[],d;for(d=2;d<arguments.length;d++)m.push(arguments[d]);for(d=0;d<b;d++)f.push(this[a+d]);for(;d<this.length-a;d++)g.push(this[a+d]);var h=m.length;for(d=0;d<h+g.length;d++)this.items[a+d]=this[a+d]=d<h?m[d]:g[d-h];for(d=this.items.length=this.length-=b-h;this[d];)delete this[d++];return new ua(f)};Z.exclude=function(a){for(var b=0,c=this.length;b<
c;b++)if(this[b]==a)return this.splice(b,1),!0};Z.animate=function(a,c,e,g){!b.is(e,"function")&&e||(g=e||null);var d=this.items.length,f=d,h=this,k;if(!d)return this;g&&(k=function(){!--d&&g.call(h)});e=b.is(e,"string")?e:k;c=b.animation(a,c,e,k);for(a=this.items[--f].animate(c);f--;)this.items[f]&&!this.items[f].removed&&this.items[f].animateWith(a,c,c),this.items[f]&&!this.items[f].removed||d--;return this};Z.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);
return this};Z.getBBox=function(){for(var a=[],b=[],c=[],g=[],d=this.items.length;d--;)if(!this.items[d].removed){var f=this.items[d].getBBox();a.push(f.x);b.push(f.y);c.push(f.x+f.width);g.push(f.y+f.height)}a=Q[S](0,a);b=Q[S](0,b);c=N[S](0,c);g=N[S](0,g);return{x:a,y:b,x2:c,y2:g,width:c-a,height:g-b}};Z.clone=function(a){a=this.paper.set();for(var b=0,c=this.items.length;b<c;b++)a.push(this.items[b].clone());return a};Z.toString=function(){return"Rapha\u00ebl\u2018s set"};Z.glow=function(a){var b=
this.paper.set();this.forEach(function(c,g){var d=c.glow(a);null!=d&&d.forEach(function(a,c){b.push(a)})});return b};Z.isPointInside=function(a,b){var c=!1;this.forEach(function(g){if(g.isPointInside(a,b))return c=!0,!1});return c};b.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"],g;for(g in a.face)a.face.hasOwnProperty(g)&&(b.face[g]=a.face[g]);this.fonts[c]?this.fonts[c].push(b):this.fonts[c]=[b];if(!a.svg){b.face["units-per-em"]=
pa(a.face["units-per-em"],10);for(var d in a.glyphs)if(a.glyphs.hasOwnProperty(d)&&(c=a.glyphs[d],b.glyphs[d]={w:c.w,k:{},d:c.d&&"M"+c.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},c.k))for(var f in c.k)c.hasOwnProperty(f)&&(b.glyphs[d].k[f]=c.k[f])}return a};O.getFont=function(a,c,e,g){g=g||"normal";e=e||"normal";c=+c||{normal:400,bold:700,lighter:300,bolder:800}[c]||400;if(b.fonts){var d=b.fonts[a];if(!d){a=new RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,
"")+"(\\s|$)","i");for(var f in b.fonts)if(b.fonts.hasOwnProperty(f)&&a.test(f)){d=b.fonts[f];break}}var h;if(d)for(f=0,a=d.length;f<a&&(h=d[f],h.face["font-weight"]!=c||h.face["font-style"]!=e&&h.face["font-style"]||h.face["font-stretch"]!=g);f++);return h}};O.print=function(a,c,e,g,d,f,h,k){f=f||"middle";h=N(Q(h||0,1),-1);k=N(Q(k||1,3),1);e=aa(e).split("");var q=0,p=0,s="";b.is(g,"string")&&(g=this.getFont(g));if(g){d=(d||16)/g.face["units-per-em"];var n=g.face.bbox.split(R),u=+n[0],r=n[3]-n[1],
z=0;f=+n[1]+("baseline"==f?r+ +g.face.descent:r/2);for(var n=0,v=e.length;n<v;n++){if("\n"==e[n])p=x=q=0,z+=r*k;else var A=p&&g.glyphs[e[n-1]]||{},x=g.glyphs[e[n]],q=q+(p?(A.w||g.w)+(A.k&&A.k[e[n]]||0)+g.w*h:0),p=1;x&&x.d&&(s+=b.transformPath(x.d,["t",q*d,z*d,"s",d,d,u,f,"t",(a-u)/d,(c-f)/d]))}}return this.path(s).attr({fill:"#000",stroke:"none"})};O.add=function(a){if(b.is(a,"array"))for(var c=this.set(),d=0,g=a.length,f;d<g;d++)f=a[d]||{},oa.hasOwnProperty(f.type)&&c.push(this[f.type]().attr(f));
return c};b.format=function(a,c){var d=b.is(c,da)?[0].concat(c):arguments;a&&b.is(a,"string")&&d.length-1&&(a=a.replace(ca,function(a,b){return null==d[++b]?"":d[b]}));return a||""};b.fullfill=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,d){var f=d;c.replace(b,function(a,b,c,d,g){b=b||d;f&&(b in f&&(f=f[b]),"function"==typeof f&&g&&(f=f()))});return f=(null==f||f==d?a:f)+""};return function(b,d){return String(b).replace(a,function(a,
b){return c(a,b,d)})}}();b.ninja=function(){cb?s.win.Raphael=zb:delete Raphael;return b};b.st=Z;(function(a,c,d){function g(){/in/.test(a.readyState)?setTimeout(g,9):b.eve("raphael.DOMload")}null==a.readyState&&a.addEventListener&&(a.addEventListener(c,d=function(){a.removeEventListener(c,d,!1);a.readyState="complete"},!1),a.readyState="loading");g()})(document,"DOMContentLoaded");f.on("raphael.DOMload",function(){E=!0});(function(){if(b.svg){var a=String,c=parseFloat,d=parseInt,g=Math,f=g.max,h=
g.abs,k=g.pow,q=/[, ]+/,p=b.eve,s={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},u={};b.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var n=function(c,d){if(d){"string"==typeof c&&(c=n(c));for(var f in d)d.hasOwnProperty(f)&&("xlink:"==f.substring(0,6)?c.setAttributeNS("http://www.w3.org/1999/xlink",f.substring(6),a(d[f])):
c.setAttribute(f,a(d[f])))}else c=b._g.doc.createElementNS("http://www.w3.org/2000/svg",c),c.style&&(c.style.webkitTapHighlightColor="rgba(0,0,0,0)");return c},z=function(d,e){var q="linear",J=d.id+e,V=.5,H=.5,y=d.node,B=d.paper,p=y.style,r=b._g.doc.getElementById(J);if(!r){e=a(e).replace(b._radial_gradient,function(a,b,d){q="radial";b&&d&&(V=c(b),H=c(d),a=2*(.5<H)-1,.25<k(V-.5,2)+k(H-.5,2)&&(H=g.sqrt(.25-k(V-.5,2))*a+.5)&&.5!=H&&(H=H.toFixed(5)-1E-5*a));return""});e=e.split(/\s*\-\s*/);if("linear"==
q){r=e.shift();r=-c(r);if(isNaN(r))return null;var D=[0,0,g.cos(b.rad(r)),g.sin(b.rad(r))],r=1/(f(h(D[2]),h(D[3]))||1);D[2]*=r;D[3]*=r;0>D[2]&&(D[0]=-D[2],D[2]=0);0>D[3]&&(D[1]=-D[3],D[3]=0)}var s=b._parseDots(e);if(!s)return null;J=J.replace(/[\(\)\s,\xb0#]/g,"_");d.gradient&&J!=d.gradient.id&&(B.defs.removeChild(d.gradient),delete d.gradient);if(!d.gradient)for(r=n(q+"Gradient",{id:J}),d.gradient=r,n(r,"radial"==q?{fx:V,fy:H}:{x1:D[0],y1:D[1],x2:D[2],y2:D[3],gradientTransform:d.matrix.invert()}),
B.defs.appendChild(r),B=0,D=s.length;B<D;B++)r.appendChild(n("stop",{offset:s[B].offset?s[B].offset:B?"100%":"0%","stop-color":s[B].color||"#fff"}))}n(y,{fill:"url(#"+J+")",opacity:1,"fill-opacity":1});p.fill="";p.opacity=1;return p.fillOpacity=1},r=function(a){var b=a.getBBox(1);n(a.pattern,{patternTransform:a.matrix.invert()+" translate("+b.x+","+b.y+")"})},A=function(c,d,f){if("path"==c.type){for(var g=a(d).toLowerCase().split("-"),e=c.paper,h=f?"end":"start",m=c.node,k=c.attrs,l=k["stroke-width"],
q=g.length,p="classic",r,t,v=3,w=3,x=5;q--;)switch(g[q]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":p=g[q];break;case "wide":w=5;break;case "narrow":w=2;break;case "long":v=5;break;case "short":v=2}"open"==p?(v+=2,w+=2,x+=2,r=1,t=f?4:1,g={fill:"none",stroke:k.stroke}):(t=r=v/2,g={fill:k.stroke,stroke:"none"});c._.arrows?f?(c._.arrows.endPath&&u[c._.arrows.endPath]--,c._.arrows.endMarker&&u[c._.arrows.endMarker]--):(c._.arrows.startPath&&u[c._.arrows.startPath]--,
c._.arrows.startMarker&&u[c._.arrows.startMarker]--):c._.arrows={};if("none"!=p){var q="raphael-marker-"+p,z="raphael-marker-"+h+p+v+w;b._g.doc.getElementById(q)?u[q]++:(e.defs.appendChild(n(n("path"),{"stroke-linecap":"round",d:s[p],id:q})),u[q]=1);var A=b._g.doc.getElementById(z);A?(u[z]++,v=A.getElementsByTagName("use")[0]):(A=n(n("marker"),{id:z,markerHeight:w,markerWidth:v,orient:"auto",refX:t,refY:w/2}),v=n(n("use"),{"xlink:href":"#"+q,transform:(f?"rotate(180 "+v/2+" "+w/2+") ":"")+"scale("+
v/x+","+w/x+")","stroke-width":(1/((v/x+w/x)/2)).toFixed(4)}),A.appendChild(v),e.defs.appendChild(A),u[z]=1);n(v,g);e=r*("diamond"!=p&&"oval"!=p);f?(f=c._.arrows.startdx*l||0,l=b.getTotalLength(k.path)-e*l):(f=e*l,l=b.getTotalLength(k.path)-(c._.arrows.enddx*l||0));g={};g["marker-"+h]="url(#"+z+")";if(l||f)g.d=b.getSubpath(k.path,f,l);n(m,g);c._.arrows[h+"Path"]=q;c._.arrows[h+"Marker"]=z;c._.arrows[h+"dx"]=e;c._.arrows[h+"Type"]=p;c._.arrows[h+"String"]=d}else f?(f=c._.arrows.startdx*l||0,l=b.getTotalLength(k.path)-
f):(f=0,l=b.getTotalLength(k.path)-(c._.arrows.enddx*l||0)),c._.arrows[h+"Path"]&&n(m,{d:b.getSubpath(k.path,f,l)}),delete c._.arrows[h+"Path"],delete c._.arrows[h+"Marker"],delete c._.arrows[h+"dx"],delete c._.arrows[h+"Type"],delete c._.arrows[h+"String"];for(g in u)u.hasOwnProperty(g)&&!u[g]&&(c=b._g.doc.getElementById(g))&&c.parentNode.removeChild(c)}},v={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,
3,1,3,1,3]},F=function(b,c,d){if(c=v[a(c).toLowerCase()]){var f=b.attrs["stroke-width"]||"1";d={round:f,square:f,butt:0}[b.attrs["stroke-linecap"]||d["stroke-linecap"]]||0;for(var g=[],e=c.length;e--;)g[e]=c[e]*f+(e%2?1:-1)*d;n(b.node,{"stroke-dasharray":g.join(",")})}},x=function(c,g){var l=c.node,J=c.attrs,k=l.style.visibility;l.style.visibility="hidden";for(var H in g)if(g.hasOwnProperty(H)&&b._availableAttrs.hasOwnProperty(H)){var y=g[H];J[H]=y;switch(H){case "blur":c.blur(y);break;case "title":var B=
l.getElementsByTagName("title");B.length&&(B=B[0])?B.firstChild.nodeValue=y:(B=n("title"),y=b._g.doc.createTextNode(y),B.appendChild(y),l.appendChild(B));break;case "href":case "target":B=l.parentNode;if("a"!=B.tagName.toLowerCase()){var p=n("a");B.insertBefore(p,l);p.appendChild(l);B=p}"target"==H?B.setAttributeNS("http://www.w3.org/1999/xlink","show","blank"==y?"new":y):B.setAttributeNS("http://www.w3.org/1999/xlink",H,y);break;case "cursor":l.style.cursor=y;break;case "transform":c.transform(y);
break;case "arrow-start":A(c,y);break;case "arrow-end":A(c,y,1);break;case "clip-rect":B=a(y).split(q);if(4==B.length){c.clip&&c.clip.parentNode.parentNode.removeChild(c.clip.parentNode);var p=n("clipPath"),s=n("rect");p.id=b.createUUID();n(s,{x:B[0],y:B[1],width:B[2],height:B[3]});p.appendChild(s);c.paper.defs.appendChild(p);n(l,{"clip-path":"url(#"+p.id+")"});c.clip=s}!y&&(y=l.getAttribute("clip-path"))&&((y=b._g.doc.getElementById(y.replace(/(^url\(#|\)$)/g,"")))&&y.parentNode.removeChild(y),n(l,
{"clip-path":""}),delete c.clip);break;case "path":"path"==c.type&&(n(l,{d:y?J.path=b._pathToAbsolute(y):"M0,0"}),c._.dirty=1,c._.arrows&&("startString"in c._.arrows&&A(c,c._.arrows.startString),"endString"in c._.arrows&&A(c,c._.arrows.endString,1)));break;case "width":if(l.setAttribute(H,y),c._.dirty=1,J.fx)H="x",y=J.x;else break;case "x":J.fx&&(y=-J.x-(J.width||0));case "rx":if("rx"==H&&"rect"==c.type)break;case "cx":l.setAttribute(H,y);c.pattern&&r(c);c._.dirty=1;break;case "height":if(l.setAttribute(H,
y),c._.dirty=1,J.fy)H="y",y=J.y;else break;case "y":J.fy&&(y=-J.y-(J.height||0));case "ry":if("ry"==H&&"rect"==c.type)break;case "cy":l.setAttribute(H,y);c.pattern&&r(c);c._.dirty=1;break;case "r":"rect"==c.type?n(l,{rx:y,ry:y}):l.setAttribute(H,y);c._.dirty=1;break;case "src":"image"==c.type&&l.setAttributeNS("http://www.w3.org/1999/xlink","href",y);break;case "stroke-width":if(1!=c._.sx||1!=c._.sy)y/=f(h(c._.sx),h(c._.sy))||1;c.paper._vbSize&&(y*=c.paper._vbSize);l.setAttribute(H,y);J["stroke-dasharray"]&&
F(c,J["stroke-dasharray"],g);c._.arrows&&("startString"in c._.arrows&&A(c,c._.arrows.startString),"endString"in c._.arrows&&A(c,c._.arrows.endString,1));break;case "stroke-dasharray":F(c,y,g);break;case "fill":var v=a(y).match(b._ISURL);if(v){var p=n("pattern"),u=n("image");p.id=b.createUUID();n(p,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});n(u,{x:0,y:0,"xlink:href":v[1]});p.appendChild(u);(function(a){b._preload(v[1],function(){var b=this.offsetWidth,d=this.offsetHeight;n(a,{width:b,
height:d});n(u,{width:b,height:d});c.paper.safari()})})(p);c.paper.defs.appendChild(p);n(l,{fill:"url(#"+p.id+")"});c.pattern=p;c.pattern&&r(c);break}B=b.getRGB(y);if(!B.error)delete g.gradient,delete J.gradient,!b.is(J.opacity,"undefined")&&b.is(g.opacity,"undefined")&&n(l,{opacity:J.opacity}),!b.is(J["fill-opacity"],"undefined")&&b.is(g["fill-opacity"],"undefined")&&n(l,{"fill-opacity":J["fill-opacity"]});else if(("circle"==c.type||"ellipse"==c.type||"r"!=a(y).charAt())&&z(c,y)){if("opacity"in J||
"fill-opacity"in J)if(B=b._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,"")))B=B.getElementsByTagName("stop"),n(B[B.length-1],{"stop-opacity":("opacity"in J?J.opacity:1)*("fill-opacity"in J?J["fill-opacity"]:1)});J.gradient=y;J.fill="none";break}B.hasOwnProperty("opacity")&&n(l,{"fill-opacity":1<B.opacity?B.opacity/100:B.opacity});case "stroke":B=b.getRGB(y);l.setAttribute(H,B.hex);"stroke"==H&&B.hasOwnProperty("opacity")&&n(l,{"stroke-opacity":1<B.opacity?B.opacity/100:B.opacity});
"stroke"==H&&c._.arrows&&("startString"in c._.arrows&&A(c,c._.arrows.startString),"endString"in c._.arrows&&A(c,c._.arrows.endString,1));break;case "gradient":"circle"!=c.type&&"ellipse"!=c.type&&"r"==a(y).charAt()||z(c,y);break;case "opacity":J.gradient&&!J.hasOwnProperty("stroke-opacity")&&n(l,{"stroke-opacity":1<y?y/100:y});case "fill-opacity":if(J.gradient){if(B=b._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,"")))B=B.getElementsByTagName("stop"),n(B[B.length-1],{"stop-opacity":y});
break}default:"font-size"==H&&(y=d(y,10)+"px"),B=H.replace(/(\-.)/g,function(a){return a.substring(1).toUpperCase()}),l.style[B]=y,c._.dirty=1,l.setAttribute(H,y)}}w(c,g);l.style.visibility=k},w=function(c,f){if("text"==c.type&&(f.hasOwnProperty("text")||f.hasOwnProperty("font")||f.hasOwnProperty("font-size")||f.hasOwnProperty("x")||f.hasOwnProperty("y"))){var g=c.attrs,h=c.node,l=h.firstChild?d(b._g.doc.defaultView.getComputedStyle(h.firstChild,"").getPropertyValue("font-size"),10):10;if(f.hasOwnProperty("text")){for(g.text=
f.text;h.firstChild;)h.removeChild(h.firstChild);for(var m=a(f.text).split("\n"),k=[],q,p=0,r=m.length;p<r;p++)q=n("tspan"),p&&n(q,{dy:1.2*l,x:g.x}),q.appendChild(b._g.doc.createTextNode(m[p])),h.appendChild(q),k[p]=q}else for(k=h.getElementsByTagName("tspan"),p=0,r=k.length;p<r;p++)p?n(k[p],{dy:1.2*l,x:g.x}):n(k[0],{dy:0});n(h,{x:g.x,y:g.y});c._.dirty=1;h=c._getBBox();(g=g.y-(h.y+h.height/2))&&b.is(g,"finite")&&n(k[0],{dy:g})}},E=function(a,c){this[0]=this.node=a;a.raphael=!0;this.id=b._oid++;a.raphaelid=
this.id;this.matrix=b.matrix();this.realPath=null;this.paper=c;this.attrs=this.attrs||{};this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1};!c.bottom&&(c.bottom=this);(this.prev=c.top)&&(c.top.next=this);c.top=this;this.next=null},C=b.el;E.prototype=C;C.constructor=E;b._engine.path=function(a,b){var c=n("path");b.canvas&&b.canvas.appendChild(c);c=new E(c,b);c.type="path";x(c,{fill:"none",stroke:"#000",path:a});return c};C.rotate=function(b,d,g){if(this.removed)return this;b=a(b).split(q);b.length-
1&&(d=c(b[1]),g=c(b[2]));b=c(b[0]);null==g&&(d=g);if(null==d||null==g)g=this.getBBox(1),d=g.x+g.width/2,g=g.y+g.height/2;this.transform(this._.transform.concat([["r",b,d,g]]));return this};C.scale=function(b,g,d,f){if(this.removed)return this;b=a(b).split(q);b.length-1&&(g=c(b[1]),d=c(b[2]),f=c(b[3]));b=c(b[0]);null==g&&(g=b);null==f&&(d=f);if(null==d||null==f)var e=this.getBBox(1);d=null==d?e.x+e.width/2:d;f=null==f?e.y+e.height/2:f;this.transform(this._.transform.concat([["s",b,g,d,f]]));return this};
C.translate=function(b,d){if(this.removed)return this;b=a(b).split(q);b.length-1&&(d=c(b[1]));b=c(b[0])||0;this.transform(this._.transform.concat([["t",b,+d||0]]));return this};C.transform=function(a){var c=this._;if(null==a)return c.transform;b._extractTransform(this,a);this.clip&&n(this.clip,{transform:this.matrix.invert()});this.pattern&&r(this);this.node&&n(this.node,{transform:this.matrix});if(1!=c.sx||1!=c.sy)a=this.attrs.hasOwnProperty("stroke-width")?this.attrs["stroke-width"]:1,this.attr({"stroke-width":a});
return this};C.hide=function(){!this.removed&&this.paper.safari(this.node.style.display="none");return this};C.show=function(){!this.removed&&this.paper.safari(this.node.style.display="");return this};C.remove=function(){if(!this.removed&&this.node.parentNode){var a=this.paper;a.__set__&&a.__set__.exclude(this);p.unbind("raphael.*.*."+this.id);this.gradient&&a.defs.removeChild(this.gradient);b._tear(this,a);"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):
this.node.parentNode.removeChild(this.node);for(var c in this)this[c]="function"==typeof this[c]?b._removedFactory(c):null;this.removed=!0}};C._getBBox=function(){if("none"==this.node.style.display){this.show();var a=!0}var b={};try{b=this.node.getBBox()}catch(c){}finally{b=b||{}}a&&this.hide();return b};C.attr=function(a,c){if(this.removed)return this;if(null==a){var d={},g;for(g in this.attrs)this.attrs.hasOwnProperty(g)&&(d[g]=this.attrs[g]);d.gradient&&"none"==d.fill&&(d.fill=d.gradient)&&delete d.gradient;
d.transform=this._.transform;return d}if(null==c&&b.is(a,"string")){if("fill"==a&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==a)return this._.transform;g=a.split(q);for(var d={},f=0,e=g.length;f<e;f++)a=g[f],a in this.attrs?d[a]=this.attrs[a]:b.is(this.paper.customAttributes[a],"function")?d[a]=this.paper.customAttributes[a].def:d[a]=b._availableAttrs[a];return e-1?d:d[g[0]]}if(null==c&&b.is(a,"array")){d={};f=0;for(e=a.length;f<e;f++)d[a[f]]=this.attr(a[f]);
return d}null!=c?(d={},d[a]=c):null!=a&&b.is(a,"object")&&(d=a);for(f in d)p("raphael.attr."+f+"."+this.id,this,d[f]);for(f in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(f)&&d.hasOwnProperty(f)&&b.is(this.paper.customAttributes[f],"function"))for(e in g=this.paper.customAttributes[f].apply(this,[].concat(d[f])),this.attrs[f]=d[f],g)g.hasOwnProperty(e)&&(d[e]=g[e]);x(this,d);return this};C.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?
this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var a=this.paper;a.top!=this&&b._tofront(this,a);return this};C.toBack=function(){if(this.removed)return this;var a=this.node.parentNode;"a"==a.tagName.toLowerCase()?a.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):a.firstChild!=this.node&&a.insertBefore(this.node,this.node.parentNode.firstChild);b._toback(this,this.paper);return this};C.insertAfter=
function(a){if(this.removed)return this;var c=a.node||a[a.length-1].node;c.nextSibling?c.parentNode.insertBefore(this.node,c.nextSibling):c.parentNode.appendChild(this.node);b._insertafter(this,a,this.paper);return this};C.insertBefore=function(a){if(this.removed)return this;var c=a.node||a[0].node;c.parentNode.insertBefore(this.node,c);b._insertbefore(this,a,this.paper);return this};C.blur=function(a){if(0!==+a){var c=n("filter"),d=n("feGaussianBlur");this.attrs.blur=a;c.id=b.createUUID();n(d,{stdDeviation:+a||
1.5});c.appendChild(d);this.paper.defs.appendChild(c);this._blur=c;n(this.node,{filter:"url(#"+c.id+")"})}else this._blur&&(this._blur.parentNode.removeChild(this._blur),delete this._blur,delete this.attrs.blur),this.node.removeAttribute("filter");return this};b._engine.circle=function(a,b,c,d){var g=n("circle");a.canvas&&a.canvas.appendChild(g);a=new E(g,a);a.attrs={cx:b,cy:c,r:d,fill:"none",stroke:"#000"};a.type="circle";n(g,a.attrs);return a};b._engine.rect=function(a,b,c,d,g,f){var e=n("rect");
a.canvas&&a.canvas.appendChild(e);a=new E(e,a);a.attrs={x:b,y:c,width:d,height:g,r:f||0,rx:f||0,ry:f||0,fill:"none",stroke:"#000"};a.type="rect";n(e,a.attrs);return a};b._engine.ellipse=function(a,b,c,d,g){var f=n("ellipse");a.canvas&&a.canvas.appendChild(f);a=new E(f,a);a.attrs={cx:b,cy:c,rx:d,ry:g,fill:"none",stroke:"#000"};a.type="ellipse";n(f,a.attrs);return a};b._engine.image=function(a,b,c,d,g,f){var e=n("image");n(e,{x:c,y:d,width:g,height:f,preserveAspectRatio:"none"});e.setAttributeNS("http://www.w3.org/1999/xlink",
"href",b);a.canvas&&a.canvas.appendChild(e);a=new E(e,a);a.attrs={x:c,y:d,width:g,height:f,src:b};a.type="image";return a};b._engine.text=function(a,c,d,g){var f=n("text");a.canvas&&a.canvas.appendChild(f);a=new E(f,a);a.attrs={x:c,y:d,"text-anchor":"middle",text:g,font:b._availableAttrs.font,stroke:"none",fill:"#000"};a.type="text";x(a,a.attrs);return a};b._engine.setSize=function(a,b){this.width=a||this.width;this.height=b||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",
this.height);this._viewBox&&this.setViewBox.apply(this,this._viewBox);return this};b._engine.create=function(){var a=b._getContainer.apply(0,arguments),c=a&&a.container,d=a.x,g=a.y,f=a.width,a=a.height;if(!c)throw Error("SVG container not found.");var e=n("svg"),h,d=d||0,g=g||0,f=f||512,a=a||342;n(e,{height:a,version:1.1,width:f,xmlns:"http://www.w3.org/2000/svg"});1==c?(e.style.cssText="overflow:hidden;position:absolute;left:"+d+"px;top:"+g+"px",b._g.doc.body.appendChild(e),h=1):(e.style.cssText=
"overflow:hidden;position:relative",c.firstChild?c.insertBefore(e,c.firstChild):c.appendChild(e));c=new b._Paper;c.width=f;c.height=a;c.canvas=e;c.clear();c._left=c._top=0;h&&(c.renderfix=function(){});c.renderfix();return c};b._engine.setViewBox=function(a,b,c,d,g){p("raphael.setViewBox",this,this._viewBox,[a,b,c,d,g]);var e=f(c/this.width,d/this.height),h=this.top,l=g?"xMidYMid meet":"xMinYMin",m;null==a?(this._vbSize&&(e=1),delete this._vbSize,m="0 0 "+this.width+" "+this.height):(this._vbSize=
e,m=a+" "+b+" "+c+" "+d);for(n(this.canvas,{viewBox:m,preserveAspectRatio:l});e&&h;)l="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":l}),h._.dirty=1,h._.dirtyT=1,h=h.prev;this._viewBox=[a,b,c,d,!!g];return this};b.prototype.renderfix=function(){var a=this.canvas,b=a.style,c;try{c=a.getScreenCTM()||a.createSVGMatrix()}catch(d){c=a.createSVGMatrix()}a=-c.e%1;c=-c.f%1;if(a||c)a&&(this._left=(this._left+a)%1,b.left=this._left+"px"),c&&(this._top=(this._top+c)%1,b.top=this._top+
"px")};b.prototype.clear=function(){b.eve("raphael.clear",this);for(var a=this.canvas;a.firstChild;)a.removeChild(a.firstChild);this.bottom=this.top=null;(this.desc=n("desc")).appendChild(b._g.doc.createTextNode("Created with Rapha\u00ebl "+b.version));a.appendChild(this.desc);a.appendChild(this.defs=n("defs"))};b.prototype.remove=function(){p("raphael.remove",this);this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]="function"==typeof this[a]?b._removedFactory(a):
null};var I=b.st,L;for(L in C)C.hasOwnProperty(L)&&!I.hasOwnProperty(L)&&(I[L]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(L))}})();(function(){if(b.vml){var a=String,c=parseFloat,d=Math,g=d.round,f=d.max,h=d.min,k=d.abs,q=/[, ]+/,p=b.eve,s={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},u=/([clmz]),?([^clmz]*)/gi,n=/ progid:\S+Blur\([^\)]+\)/g,z=/-?[^,\s-]+/g,r={path:1,rect:1,image:1},A={circle:1,ellipse:1},v=function(c){var d=/[ahqstv]/ig,
f=b._pathToAbsolute;a(c).match(d)&&(f=b._path2curve);d=/[clmz]/g;if(f==b._pathToAbsolute&&!a(c).match(d))return c=a(c).replace(u,function(a,b,c){var d=[],f="m"==b.toLowerCase(),e=s[b];c.replace(z,function(a){f&&2==d.length&&(e+=d+s["m"==b?"l":"L"],d=[]);d.push(g(21600*a))});return e+d});var d=f(c),e;c=[];for(var h=0,m=d.length;h<m;h++){f=d[h];e=d[h][0].toLowerCase();"z"==e&&(e="x");for(var l=1,k=f.length;l<k;l++)e+=g(21600*f[l])+(l!=k-1?",":"");c.push(e)}return c.join(" ")},C=function(a,c,d){var f=
b.matrix();f.rotate(-a,.5,.5);return{dx:f.x(c,d),dy:f.y(c,d)}},x=function(a,b,c,d,f,g){var e=a._,h=a.matrix,m=e.fillpos;a=a.node;var l=a.style,q=1,n="",p=21600/b,r=21600/c;l.visibility="hidden";if(b&&c){a.coordsize=k(p)+" "+k(r);l.rotation=g*(0>b*c?-1:1);g&&(f=C(g,d,f),d=f.dx,f=f.dy);0>b&&(n+="x");0>c&&(n+=" y")&&(q=-1);l.flip=n;a.coordorigin=d*-p+" "+f*-r;if(m||e.fillsize)d=(d=a.getElementsByTagName("fill"))&&d[0],a.removeChild(d),m&&(f=C(g,h.x(m[0],m[1]),h.y(m[0],m[1])),d.position=f.dx*q+" "+f.dy*
q),e.fillsize&&(d.size=e.fillsize[0]*k(b)+" "+e.fillsize[1]*k(c)),a.appendChild(d);l.visibility="visible"}};b.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+this.version};var w=function(b,c,d){c=a(c).toLowerCase().split("-");d=d?"end":"start";for(var f=c.length,g="classic",e="medium",h="medium";f--;)switch(c[f]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":g=c[f];break;case "wide":case "narrow":h=
c[f];break;case "long":case "short":e=c[f]}b=b.node.getElementsByTagName("stroke")[0];b[d+"arrow"]=g;b[d+"arrowlength"]=e;b[d+"arrowwidth"]=h},E=function(d,e){d.attrs=d.attrs||{};var k=d.node,n=d.attrs,p=k.style,s=r[d.type]&&(e.x!=n.x||e.y!=n.y||e.width!=n.width||e.height!=n.height||e.cx!=n.cx||e.cy!=n.cy||e.rx!=n.rx||e.ry!=n.ry||e.r!=n.r),u=A[d.type]&&(n.cx!=e.cx||n.cy!=e.cy||n.r!=e.r||n.rx!=e.rx||n.ry!=e.ry),D;for(D in e)e.hasOwnProperty(D)&&(n[D]=e[D]);s&&(n.path=b._getPath[d.type](d),d._.dirty=
1);e.href&&(k.href=e.href);e.title&&(k.title=e.title);e.target&&(k.target=e.target);e.cursor&&(p.cursor=e.cursor);"blur"in e&&d.blur(e.blur);if(e.path&&"path"==d.type||s)k.path=v(~a(n.path).toLowerCase().indexOf("r")?b._pathToAbsolute(n.path):n.path),"image"==d.type&&(d._.fillpos=[n.x,n.y],d._.fillsize=[n.width,n.height],x(d,1,1,0,0,0));"transform"in e&&d.transform(e.transform);u&&(p=+n.cx,s=+n.cy,u=+n.rx||+n.r||0,D=+n.ry||+n.r||0,k.path=b.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",g(21600*(p-u)),
g(21600*(s-D)),g(21600*(p+u)),g(21600*(s+D)),g(21600*p)),d._.dirty=1);"clip-rect"in e&&(p=a(e["clip-rect"]).split(q),4==p.length&&(p[2]=+p[2]+ +p[0],p[3]=+p[3]+ +p[1],s=k.clipRect||b._g.doc.createElement("div"),u=s.style,u.clip=b.format("rect({1}px {2}px {3}px {0}px)",p),k.clipRect||(u.position="absolute",u.top=0,u.left=0,u.width=d.paper.width+"px",u.height=d.paper.height+"px",k.parentNode.insertBefore(s,k),s.appendChild(k),k.clipRect=s)),e["clip-rect"]||k.clipRect&&(k.clipRect.style.clip="auto"));
d.textpath&&(p=d.textpath.style,e.font&&(p.font=e.font),e["font-family"]&&(p.fontFamily='"'+e["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"'),e["font-size"]&&(p.fontSize=e["font-size"]),e["font-weight"]&&(p.fontWeight=e["font-weight"]),e["font-style"]&&(p.fontStyle=e["font-style"]));"arrow-start"in e&&w(d,e["arrow-start"]);"arrow-end"in e&&w(d,e["arrow-end"],1);if(null!=e.opacity||null!=e["stroke-width"]||null!=e.fill||null!=e.src||null!=e.stroke||null!=e["stroke-width"]||null!=e["stroke-opacity"]||
null!=e["fill-opacity"]||null!=e["stroke-dasharray"]||null!=e["stroke-miterlimit"]||null!=e["stroke-linejoin"]||null!=e["stroke-linecap"]){p=(p=k.getElementsByTagName("fill"))&&p[0];!p&&(p=K("fill"));"image"==d.type&&e.src&&(p.src=e.src);e.fill&&(p.on=!0);if(null==p.on||"none"==e.fill||null===e.fill)p.on=!1;p.on&&e.fill&&((s=a(e.fill).match(b._ISURL))?(p.parentNode==k&&k.removeChild(p),p.rotate=!0,p.src=s[1],p.type="tile",u=d.getBBox(1),p.position=u.x+" "+u.y,d._.fillpos=[u.x,u.y],b._preload(s[1],
function(){d._.fillsize=[this.offsetWidth,this.offsetHeight]})):(p.color=b.getRGB(e.fill).hex,p.src="",p.type="solid",b.getRGB(e.fill).error&&(d.type in{circle:1,ellipse:1}||"r"!=a(e.fill).charAt())&&F(d,e.fill,p)&&(n.fill="none",n.gradient=e.fill,p.rotate=!1)));if("fill-opacity"in e||"opacity"in e)u=((+n["fill-opacity"]+1||2)-1)*((+n.opacity+1||2)-1)*((+b.getRGB(e.fill).o+1||2)-1),u=h(f(u,0),1),p.opacity=u,p.src&&(p.color="none");k.appendChild(p);p=k.getElementsByTagName("stroke")&&k.getElementsByTagName("stroke")[0];
s=!1;!p&&(s=p=K("stroke"));if(e.stroke&&"none"!=e.stroke||e["stroke-width"]||null!=e["stroke-opacity"]||e["stroke-dasharray"]||e["stroke-miterlimit"]||e["stroke-linejoin"]||e["stroke-linecap"])p.on=!0;"none"!=e.stroke&&null!==e.stroke&&null!=p.on&&0!=e.stroke&&0!=e["stroke-width"]||(p.on=!1);u=b.getRGB(e.stroke);p.on&&e.stroke&&(p.color=u.hex);u=((+n["stroke-opacity"]+1||2)-1)*((+n.opacity+1||2)-1)*((+u.o+1||2)-1);D=.75*(c(e["stroke-width"])||1);u=h(f(u,0),1);null==e["stroke-width"]&&(D=n["stroke-width"]);
e["stroke-width"]&&(p.weight=D);D&&1>D&&(u*=D)&&(p.weight=1);p.opacity=u;e["stroke-linejoin"]&&(p.joinstyle=e["stroke-linejoin"]||"miter");p.miterlimit=e["stroke-miterlimit"]||8;e["stroke-linecap"]&&(p.endcap="butt"==e["stroke-linecap"]?"flat":"square"==e["stroke-linecap"]?"square":"round");"stroke-dasharray"in e&&(u={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},p.dashstyle=
u.hasOwnProperty(e["stroke-dasharray"])?u[e["stroke-dasharray"]]:"");s&&k.appendChild(p)}if("text"==d.type){d.paper.canvas.style.display="";k=d.paper.span;s=n.font&&n.font.match(/\d+(?:\.\d*)?(?=px)/);p=k.style;n.font&&(p.font=n.font);n["font-family"]&&(p.fontFamily=n["font-family"]);n["font-weight"]&&(p.fontWeight=n["font-weight"]);n["font-style"]&&(p.fontStyle=n["font-style"]);s=c(n["font-size"]||s&&s[0])||10;p.fontSize=100*s+"px";d.textpath.string&&(k.innerHTML=a(d.textpath.string).replace(/</g,
"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));k=k.getBoundingClientRect();d.W=n.w=(k.right-k.left)/100;d.H=n.h=(k.bottom-k.top)/100;d.X=n.x;d.Y=n.y+d.H/2;("x"in e||"y"in e)&&(d.path.v=b.format("m{0},{1}l{2},{1}",g(21600*n.x),g(21600*n.y),g(21600*n.x)+1));k="x y text font font-family font-weight font-style font-size".split(" ");p=0;for(s=k.length;p<s;p++)if(k[p]in e){d._.dirty=1;break}switch(n["text-anchor"]){case "start":d.textpath.style["v-text-align"]="left";d.bbx=d.W/2;break;case "end":d.textpath.style["v-text-align"]=
"right";d.bbx=-d.W/2;break;default:d.textpath.style["v-text-align"]="center",d.bbx=0}d.textpath.style["v-text-kern"]=!0}},F=function(f,g,h){f.attrs=f.attrs||{};var k=Math.pow,m="linear",n=".5 .5";f.attrs.gradient=g;g=a(g).replace(b._radial_gradient,function(a,b,f){m="radial";b&&f&&(b=c(b),f=c(f),.25<k(b-.5,2)+k(f-.5,2)&&(f=d.sqrt(.25-k(b-.5,2))*(2*(.5<f)-1)+.5),n=b+" "+f);return""});g=g.split(/\s*\-\s*/);if("linear"==m){var p=g.shift(),p=-c(p);if(isNaN(p))return null}g=b._parseDots(g);if(!g)return null;
f=f.shape||f.node;if(g.length){f.removeChild(h);h.on=!0;h.method="none";h.color=g[0].color;h.color2=g[g.length-1].color;for(var q=[],r=0,s=g.length;r<s;r++)g[r].offset&&q.push(g[r].offset+" "+g[r].color);h.colors=q.length?q.join():"0% "+h.color;"radial"==m?(h.type="gradientTitle",h.focus="100%",h.focussize="0 0",h.focusposition=n,h.angle=0):(h.type="gradient",h.angle=(270-p)%360);f.appendChild(h)}return 1},I=function(a,c){this[0]=this.node=a;a.raphael=!0;this.id=b._oid++;a.raphaelid=this.id;this.Y=
this.X=0;this.attrs={};this.paper=c;this.matrix=b.matrix();this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1};!c.bottom&&(c.bottom=this);(this.prev=c.top)&&(c.top.next=this);c.top=this;this.next=null},L=b.el;I.prototype=L;L.constructor=I;L.transform=function(c){if(null==c)return this._.transform;var d=this.paper._viewBoxShift,e=d?"s"+[d.scale,d.scale]+"-1-1t"+[d.dx,d.dy]:"",f;d&&(f=c=a(c).replace(/\.{3}|\u2026/g,this._.transform||""));b._extractTransform(this,e+c);var d=this.matrix.clone(),
g=this.skew;c=this.node;var e=~a(this.attrs.fill).indexOf("-"),h=!a(this.attrs.fill).indexOf("url(");d.translate(1,1);h||e||"image"==this.type?(g.matrix="1 0 0 1",g.offset="0 0",g=d.split(),e&&g.noRotation||!g.isSimple?(c.style.filter=d.toFilter(),e=this.getBBox(),g=this.getBBox(1),d=e.x-g.x,e=e.y-g.y,c.coordorigin=-21600*d+" "+-21600*e,x(this,1,1,d,e,0)):(c.style.filter="",x(this,g.scalex,g.scaley,g.dx,g.dy,g.rotate))):(c.style.filter="",g.matrix=a(d),g.offset=d.offset());f&&(this._.transform=f);
return this};L.rotate=function(b,d,e){if(this.removed)return this;if(null!=b){b=a(b).split(q);b.length-1&&(d=c(b[1]),e=c(b[2]));b=c(b[0]);null==e&&(d=e);if(null==d||null==e)e=this.getBBox(1),d=e.x+e.width/2,e=e.y+e.height/2;this._.dirtyT=1;this.transform(this._.transform.concat([["r",b,d,e]]));return this}};L.translate=function(b,d){if(this.removed)return this;b=a(b).split(q);b.length-1&&(d=c(b[1]));b=c(b[0])||0;d=+d||0;this._.bbox&&(this._.bbox.x+=b,this._.bbox.y+=d);this.transform(this._.transform.concat([["t",
b,d]]));return this};L.scale=function(b,d,e,f){if(this.removed)return this;b=a(b).split(q);b.length-1&&(d=c(b[1]),e=c(b[2]),f=c(b[3]),isNaN(e)&&(e=null),isNaN(f)&&(f=null));b=c(b[0]);null==d&&(d=b);null==f&&(e=f);if(null==e||null==f)var g=this.getBBox(1);e=null==e?g.x+g.width/2:e;f=null==f?g.y+g.height/2:f;this.transform(this._.transform.concat([["s",b,d,e,f]]));this._.dirtyT=1;return this};L.hide=function(){!this.removed&&(this.node.style.display="none");return this};L.show=function(){!this.removed&&
(this.node.style.display="");return this};L._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}};L.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this);b.eve.unbind("raphael.*.*."+this.id);b._tear(this,this.paper);this.node.parentNode.removeChild(this.node);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this)this[a]="function"==typeof this[a]?b._removedFactory(a):
null;this.removed=!0}};L.attr=function(a,c){if(this.removed)return this;if(null==a){var d={},e;for(e in this.attrs)this.attrs.hasOwnProperty(e)&&(d[e]=this.attrs[e]);d.gradient&&"none"==d.fill&&(d.fill=d.gradient)&&delete d.gradient;d.transform=this._.transform;return d}if(null==c&&b.is(a,"string")){if("fill"==a&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;e=a.split(q);for(var d={},f=0,g=e.length;f<g;f++)a=e[f],a in this.attrs?d[a]=this.attrs[a]:b.is(this.paper.customAttributes[a],
"function")?d[a]=this.paper.customAttributes[a].def:d[a]=b._availableAttrs[a];return g-1?d:d[e[0]]}if(this.attrs&&null==c&&b.is(a,"array")){d={};f=0;for(g=a.length;f<g;f++)d[a[f]]=this.attr(a[f]);return d}null!=c&&(d={},d[a]=c);null==c&&b.is(a,"object")&&(d=a);for(f in d)p("raphael.attr."+f+"."+this.id,this,d[f]);if(d){for(f in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(f)&&d.hasOwnProperty(f)&&b.is(this.paper.customAttributes[f],"function"))for(g in e=this.paper.customAttributes[f].apply(this,
[].concat(d[f])),this.attrs[f]=d[f],e)e.hasOwnProperty(g)&&(d[g]=e[g]);d.text&&"text"==this.type&&(this.textpath.string=d.text);E(this,d)}return this};L.toFront=function(){!this.removed&&this.node.parentNode.appendChild(this.node);this.paper&&this.paper.top!=this&&b._tofront(this,this.paper);return this};L.toBack=function(){if(this.removed)return this;this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),b._toback(this,this.paper));
return this};L.insertAfter=function(a){if(this.removed)return this;a.constructor==b.st.constructor&&(a=a[a.length-1]);a.node.nextSibling?a.node.parentNode.insertBefore(this.node,a.node.nextSibling):a.node.parentNode.appendChild(this.node);b._insertafter(this,a,this.paper);return this};L.insertBefore=function(a){if(this.removed)return this;a.constructor==b.st.constructor&&(a=a[0]);a.node.parentNode.insertBefore(this.node,a.node);b._insertbefore(this,a,this.paper);return this};L.blur=function(a){var c=
this.node.runtimeStyle,d=c.filter,d=d.replace(n,"");0!==+a?(this.attrs.blur=a,c.filter=d+"  progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+a||1.5)+")",c.margin=b.format("-{0}px 0 0 -{0}px",g(+a||1.5))):(c.filter=d,c.margin=0,delete this.attrs.blur);return this};b._engine.path=function(a,b){var c=K("shape");c.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px";c.coordsize="21600 21600";c.coordorigin=b.coordorigin;var d=new I(c,b),e={fill:"none",stroke:"#000"};a&&(e.path=a);
d.type="path";d.path=[];d.Path="";E(d,e);b.canvas.appendChild(c);e=K("skew");e.on=!0;c.appendChild(e);d.skew=e;d.transform("");return d};b._engine.rect=function(a,c,d,e,f,g){var h=b._rectPath(c,d,e,f,g);a=a.path(h);var k=a.attrs;a.X=k.x=c;a.Y=k.y=d;a.W=k.width=e;a.H=k.height=f;k.r=g;k.path=h;a.type="rect";return a};b._engine.ellipse=function(a,b,c,d,e){a=a.path();a.X=b-d;a.Y=c-e;a.W=2*d;a.H=2*e;a.type="ellipse";E(a,{cx:b,cy:c,rx:d,ry:e});return a};b._engine.circle=function(a,b,c,d){a=a.path();a.X=
b-d;a.Y=c-d;a.W=a.H=2*d;a.type="circle";E(a,{cx:b,cy:c,r:d});return a};b._engine.image=function(a,c,d,e,f,g){var h=b._rectPath(d,e,f,g);a=a.path(h).attr({stroke:"none"});var k=a.attrs,m=a.node,l=m.getElementsByTagName("fill")[0];k.src=c;a.X=k.x=d;a.Y=k.y=e;a.W=k.width=f;a.H=k.height=g;k.path=h;a.type="image";l.parentNode==m&&m.removeChild(l);l.rotate=!0;l.src=c;l.type="tile";a._.fillpos=[d,e];a._.fillsize=[f,g];m.appendChild(l);x(a,1,1,0,0,0);return a};b._engine.text=function(c,d,e,f){var h=K("shape"),
k=K("path"),m=K("textpath");d=d||0;e=e||0;f=f||"";k.v=b.format("m{0},{1}l{2},{1}",g(21600*d),g(21600*e),g(21600*d)+1);k.textpathok=!0;m.string=a(f);m.on=!0;h.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px";h.coordsize="21600 21600";h.coordorigin="0 0";var l=new I(h,c),n={fill:"#000",stroke:"none",font:b._availableAttrs.font,text:f};l.shape=h;l.path=k;l.textpath=m;l.type="text";l.attrs.text=a(f);l.attrs.x=d;l.attrs.y=e;l.attrs.w=1;l.attrs.h=1;E(l,n);h.appendChild(m);h.appendChild(k);
c.canvas.appendChild(h);c=K("skew");c.on=!0;h.appendChild(c);l.skew=c;l.transform("");return l};b._engine.setSize=function(a,c){var d=this.canvas.style;this.width=a;this.height=c;a==+a&&(a+="px");c==+c&&(c+="px");d.width=a;d.height=c;d.clip="rect(0 "+a+" "+c+" 0)";this._viewBox&&b._engine.setViewBox.apply(this,this._viewBox);return this};b._engine.setViewBox=function(a,c,d,e,g){b.eve("raphael.setViewBox",this,this._viewBox,[a,c,d,e,g]);var h=this.width,k=this.height,m=1/f(d/h,e/k),l,n;g&&(l=k/e,n=
h/d,d*l<h&&(a-=(h-d*l)/2/l),e*n<k&&(c-=(k-e*n)/2/n));this._viewBox=[a,c,d,e,!!g];this._viewBoxShift={dx:-a,dy:-c,scale:m};this.forEach(function(a){a.transform("...")});return this};var K;b._engine.initWin=function(a){var b=a.document;b.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!b.namespaces.rvml&&b.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),K=function(a){return b.createElement("<rvml:"+a+' class="rvml">')}}catch(c){K=function(a){return b.createElement("<"+a+
' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}};b._engine.initWin(b._g.win);b._engine.create=function(){var a=b._getContainer.apply(0,arguments),c=a.container,d=a.height,e=a.width,f=a.x,a=a.y;if(!c)throw Error("VML container not found.");var g=new b._Paper,h=g.canvas=b._g.doc.createElement("div"),k=h.style,f=f||0,a=a||0,e=e||512,d=d||342;g.width=e;g.height=d;e==+e&&(e+="px");d==+d&&(d+="px");g.coordsize="21600000 21600000";g.coordorigin="0 0";g.span=b._g.doc.createElement("span");g.span.style.cssText=
"position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;";h.appendChild(g.span);k.cssText=b.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",e,d);1==c?(b._g.doc.body.appendChild(h),k.left=f+"px",k.top=a+"px",k.position="absolute"):c.firstChild?c.insertBefore(h,c.firstChild):c.appendChild(h);g.renderfix=function(){};return g};b.prototype.clear=function(){b.eve("raphael.clear",this);this.canvas.innerHTML="";
this.span=b._g.doc.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};b.prototype.remove=function(){b.eve("raphael.remove",this);this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]="function"==typeof this[a]?b._removedFactory(a):null;return!0};var N=b.st,O;for(O in L)L.hasOwnProperty(O)&&!N.hasOwnProperty(O)&&(N[O]=function(a){return function(){var b=
arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(O))}})();cb?s.win.Raphael=b:Raphael=b;return b});function Point(c,f){this.x=c;this.y=f};function Line(c,f){this.points=[];this.points.push(c);this.points.push(f)};function Hexagon(c,f,b,h,d,k){this.used=!1;this.lines=[];this.outline=[];this.neighbors=[];this.lines.push(c);this.lines.push(f);this.lines.push(b);this.lines.push(h);this.lines.push(d);this.lines.push(k)};function distance(c,f){return Math.sqrt((c.x-f.x)*(c.x-f.x)+(c.y-f.y)*(c.y-f.y))}Array.prototype.extend=function(c){var f=0;for(f;f<c.length;f+=1)this.push(c[f]);return this};Array.prototype.indexOf||("use strict",Array.prototype.indexOf=function(c,f){var b=this.length,h;for(h=0>f?Math.max(0,b+f):f||0;h<b;h+=1)if(this[h]===c)return h;return-1});Array.prototype.contains=function(c,f){return-1!==this.indexOf(c,f)};Array.prototype.include=function(c){this.contains(c)||this.push(c);return this};
Array.prototype.erase=function(c){var f;for(f=this.length;f--;f)this[f]===c&&this.splice(f,1);return this};Array.prototype.getLast=function(){return this.length?this[this.length-1]:null};function Country(){this.hexagons=[];this.neighbors=[];this.outline=[];this.inlines=[]}
Country.prototype.getRandomNeighborHexagon=function(c){if(c)for(;;){if(c=this.hexagons[rand(0,this.hexagons.length-1)],c=c.neighbors[rand(0,c.neighbors.length-1)],!c.used)return c}else{c=[];for(var f=0;f<this.hexagons.length;f++)for(var b=0;b<this.hexagons[f].neighbors.length;b++)this.hexagons[f].neighbors[b].used||c.include(this.hexagons[f].neighbors[b]);return c[rand(0,c.length-1)]}};
Country.prototype.getPointField=function(c,f){var b=[],h=!0;b.push(c[0]);for(c.erase(c[0]);h;)for(var h=!1,d=0;d<b.length;d++){for(var k=0;k<c.length;k++)if(distance(b[d],c[k])<f){b.push(c[k]);c.erase(c[k]);h=!0;break}if(h)break}return b};Country.prototype.getHexagonField=function(c){var f=[],b=!0;f.push(c[0]);for(c.erase(c[0]);b;)for(var b=!1,h=0,d=f.length;h<d;h++){for(var k=0,q=c.length;k<q;k++)if(c[k].neighbors.contains(f[h])){f.push(c[k]);c.erase(c[k]);b=!0;break}if(b)break}return f};
Country.prototype.getCenter=function(){for(var c=[],f=[],b=0,h=this.inlines.length;b<h;b++)for(var d=0;2>d;d++){var k=this.inlines[b].points[d];f.contains(k)?c.contains(k)||c.push(k):f.push(k)}k=f=0;b=this.hexagons[0].lines[0];lineLength=1.1*distance(b.points[0],b.points[1]);if(1>c.length){b=0;for(h=this.hexagons.length;b<h;b++)for(d=c=0;6>d;d++)if(this.hexagons.contains(this.hexagons[b].neighbors[d])&&(c++,3==c)){for(d=0;6>d;d++)f+=this.hexagons[b].lines[d].points[0].x+this.hexagons[b].lines[d].points[1].x,
k+=this.hexagons[b].lines[d].points[0].y+this.hexagons[b].lines[d].points[1].y;this.center=new Point(f/12,k/12);return}for(b=0;6>b;b++)f+=this.hexagons[0].lines[b].points[0].x+this.hexagons[0].lines[b].points[1].x,k+=this.hexagons[0].lines[b].points[0].y+this.hexagons[0].lines[b].points[1].y;this.center=new Point(f/12,k/12)}else{for(h=[];0<c.length;)h.push(this.getPointField(c,lineLength));c=h[0];for(b=1;b<h.length;b++)h[b].length>c.length&&(c=h[b]);for(var q=[],b=0,h=this.hexagons.length;b<h;b++){for(var p=
!0,d=0;6>d;d++)if(!c.contains(this.hexagons[b].lines[d].points[0])||!c.contains(this.hexagons[b].lines[d].points[1])){p=!1;break}p&&q.push(this.hexagons[b])}if(1>q.length){b=0;for(h=c.length;b<h;b++)f+=c[b].x,k+=c[b].y;f=new Point(f/c.length,k/c.length);k=Infinity;if(7>c.length)this.center=f;else{b=0;for(h=c.length;b<h&&!(q=distance(f,c[b]),q<k&&(d=b,k=q,k<lineLength/2));b++);this.center=c[d]}}else{for(h=[];0<q.length;)h.push(this.getHexagonField(q));c=h[0];for(b=1;b<h.length;b++)h[b].length>c.length&&
(c=h[b]);q=[];b=0;for(h=c.length;b<h;b++){for(var z=p=0,d=0;6>d;d++)p+=c[b].lines[d].points[0].x+c[b].lines[d].points[1].x,z+=c[b].lines[d].points[0].y+c[b].lines[d].points[1].y;f+=p/=12;k+=z/=12;q.push(new Point(p,z))}f=new Point(f/c.length,k/c.length);k=Infinity;if(7>c.length)this.center=f;else{b=0;for(h=c.length;b<h&&!(c=distance(f,q[b]),c<k&&(d=b,k=c,k<2*lineLength/3));b++);this.center=new Point(q[d].x,q[d].y)}}}};
Country.prototype.generateOutline=function(){for(var c=[],f=0,b=this.hexagons.length;f<b;f++)for(var h=0;6>h;h++){var d=this.hexagons[f].lines[h];c.contains(d)?(c=c.erase(d),this.inlines.push(d)):c.push(d)}d=c.getLast();for(f=0;f<c.length;f++)c[f].points[0].x<d.points[0].x&&(d=c[f]);this.outline.push(d.points[0]);this.outline.push(d.points[1]);c=c.erase(d);b=d.points[0];d=d.points[1];this.boundingBox={};this.boundingBox.min=new Point(Math.min(b.x,d.x),Math.min(b.y,d.y));for(this.boundingBox.max=new Point(Math.max(b.x,
d.x),Math.max(b.y,d.y));b!=d;)for(f=0;f<c.length;f++)h=!1,c[f].points[0]==d?(d=c[f].points[1],this.outline.push(c[f].points[1]),c=c.erase(c[f]),h=!0):c[f].points[1]==d&&(d=c[f].points[0],this.outline.push(c[f].points[0]),c=c.erase(c[f]),h=!0),h&&(this.boundingBox.min.x=Math.min(this.boundingBox.min.x,d.x),this.boundingBox.min.y=Math.min(this.boundingBox.min.y,d.y),this.boundingBox.max.x=Math.max(this.boundingBox.max.x,d.x),this.boundingBox.max.y=Math.max(this.boundingBox.max.y,d.y));0<c.length&&(this.holeLines=
c)};function rand(c,f){return Math.floor(Math.random()*(f-c+1))+c}Array.prototype.indexOf||(Array.prototype.indexOf=function(c,f){for(var b=this.length,h=0>f?Math.max(0,b+f):f||0;h<b;h++)if(this[h]===c)return h;return-1});Array.prototype.contains=function(c,f){return-1!=this.indexOf(c,f)};Array.prototype.include=function(c){this.contains(c)||this.push(c);return this};Array.prototype.combine=function(c){for(var f=0,b=c.length;f<b;f++)this.include(c[f]);return this};
Array.prototype.forEach||(Array.prototype.forEach=function(c,f){var b=this.length>>>0;if("function"!=typeof c)throw new TypeError;for(var h=0;h<b;h++)h in this&&c.call(f,this[h],h,this)});function Map(c,f,b){this.points=[];this.lines=[];this.hexagons=[];this.usedHexagons=[];this.countries=[];this.width=c;this.height=f;this.hexagonSize=b}
Map.prototype.clear=function(){if(0<this.countries.length){this.usedHexagons=[];this.countries=[];for(var c=0,f=this.hexagons.length;c<f;c++)this.hexagons[c].used=!1}};
Map.prototype.generateHexagonArray=function(c){for(var f=Math.sqrt(3)*this.hexagonSize/2,b=parseInt(this.width/f-.5),h=parseInt(4*this.height/(3*this.hexagonSize)-1/3),d=0;d<h+1;d++)for(var k=0;k<b+1;k++){var q,p,z,Y;q=k*f;p=d*this.hexagonSize*.75;0==d%2&&(p+=.25*this.hexagonSize);c&&(z=Math.random()*Math.PI*2,Y=Math.random()*this.hexagonSize/4*1,q+=Y*Math.cos(z),p+=Y*Math.sin(z));this.points.push(new Point(q,p));q=(k+.5)*f;p=d*this.hexagonSize*.75;1==d%2&&(p+=.25*this.hexagonSize);c&&(z=2*Math.random()*
Math.PI,Y=Math.random()*this.hexagonSize/4*1,q+=Y*Math.cos(z),p+=Y*Math.sin(z));this.points.push(new Point(q,p))}for(d=0;d<h+1;d++){c=2*b+2;for(k=0;k<2*b+1;k++)q=this.points[d*c+k],p=this.points[d*c+k+1],this.lines.push(new Line(q,p));if(d<h)for(f=d%2?1:0,k=0;k<b+1;k++)q=this.points[d*c+2*k+f],p=this.points[(d+1)*c+2*k+f],this.lines.push(new Line(q,p))}q=3*b+2;for(d=0;d<h;d++)for(f=d%2?1:0,k=0;k<b;k++){c=q*d+2*k+f;p=this.lines[c];z=this.lines[c+1];c=q*d+(2*b+1)+k;Y=this.lines[c];var ga=this.lines[c+
1];c=q*(d+1)+2*k+f;this.hexagons.push(new Hexagon(p,z,ga,this.lines[c+1],this.lines[c],Y))}k=d=!0;f=c=!1;for(p=q=0;p<h;p++){d=!0;p==h-1&&(f=!0);for(z=0;z<b;z++)z==b-1&&(c=!0),d||this.hexagons[q].neighbors.push(this.hexagons[q-1]),c||this.hexagons[q].neighbors.push(this.hexagons[q+1]),k||(this.hexagons[q].neighbors.push(this.hexagons[q-b]),1==p%2?c||this.hexagons[q].neighbors.push(this.hexagons[q+1-b]):d||this.hexagons[q].neighbors.push(this.hexagons[q-1-b])),f||(this.hexagons[q].neighbors.push(this.hexagons[q+
b]),1==p%2?c||this.hexagons[q].neighbors.push(this.hexagons[q+1+b]):d||this.hexagons[q].neighbors.push(this.hexagons[q-1+b])),d?d=!1:c&&(c=!1),q++;k&&(k=!1)}};Map.prototype.holeChecker=function(c,f){var b=[];b.push(c);for(var h=0;h<b.length;h++){if(b.length>=f)return!1;for(var d=0;d<b[h].neighbors.length;d++)b[h].neighbors[d].used||b.include(b[h].neighbors[d])}if(b.length>=f)return!1;this.usedHexagons.combine(b);b.forEach(function(b){b.used=!0});return!0};
Map.prototype.generateCountry=function(c,f,b,h){var d=new Country;d.ID=c;if(null!=f){do if(c=f.getRandomNeighborHexagon(!0),!c)throw"Epic Fail";while(this.holeChecker(c,b))}else c=this.hexagons[rand(0,this.hexagons.length-1)];c.used=!0;d.hexagons.push(c);this.usedHexagons.push(c);for(f=1;f<b;f++)c=d.getRandomNeighborHexagon(h),c.used=!0,d.hexagons.push(c),this.usedHexagons.push(c);return d};
Map.prototype.normalGenerator=function(c,f,b){var h=parseInt(.6*(this.hexagons.length-this.usedHexagons.length)/c);if(0>f||.9<f)f=0;for(var d=0;d<c;d++){var k=h+rand(0,parseInt(h*f))*(rand(0,1)?1:-1);if(0<this.countries.length){var q=new Country;q.hexagons=this.usedHexagons;this.countries.push(this.generateCountry(d,q,k,b))}else this.countries.push(this.generateCountry(d,null,k,b))}};
Map.prototype.getCountryNeighbors=function(){for(var c=0,f=this.countries.length;c<f;c++)for(var b=this.countries[c].outline,h=c+1;h<f;h++){var d=this.countries[c].boundingBox.min.x<this.countries[h].boundingBox.min.x?c:h,k=this.countries[c].boundingBox.min.y<this.countries[h].boundingBox.min.y?c:h;if(this.countries[d].boundingBox.max.x>=this.countries[d==h?c:h].boundingBox.min.x&&this.countries[k].boundingBox.max.y>this.countries[k==h?c:h].boundingBox.min.y)for(d=0,k=this.countries[h].outline.length;d<
k;d+=2)if(b.contains(this.countries[h].outline[d])){this.countries[c].neighbors.push(this.countries[h]);this.countries[h].neighbors.push(this.countries[c]);break}}};
Map.prototype.deleteCountryHoles=function(){for(var c=0,f=this.countries.length;c<f;c++)if(void 0!=this.countries[c].holeLines)for(var b=this.countries[c],h=[];0<b.holeLines.length;){for(var d=0,k=this.hexagons.length;d<k;d++)if(this.hexagons[d].lines.contains(b.holeLines[0])&&!b.hexagons.contains(this.hexagons[d])){h.push(this.hexagons[d]);break}for(;0<h.length;){var q=h.pop();b.hexagons.push(q);for(d=0;6>d;d++)b.inlines.include(q.lines[d]),b.holeLines.erase(q.lines[d]);d=0;for(k=q.neighbors.length;d<
k;d++)b.hexagons.contains(q.neighbors[d])||h.push(q.neighbors[d])}}};Map.prototype.calculateOutlines=function(){for(var c=0;c<this.countries.length;c++)this.countries[c].generateOutline()};Map.prototype.calculateCenters=function(){for(var c=0;c<this.countries.length;c++)this.countries[c].getCenter()};function MapGenerator(){}MapGenerator.prototype.createHexagonPattern=function(c,f,b,h){this.map=new Map(c,f,b);this.map.generateHexagonArray(h)};MapGenerator.prototype.generate=function(c,f,b){if(void 0==this.map)throw"call MapGenerator.createHexagonPattern() before generating";this.map.clear();this.map.normalGenerator(c,f,b);this.map.calculateOutlines();this.map.deleteCountryHoles();this.map.calculateCenters();this.map.getCountryNeighbors()};MapGenerator.prototype.getCountries=function(){return this.map.countries};
MapGenerator.prototype.getRawMap=function(){return this.map};
MapGenerator.prototype.getMap=function(){var c={};c.width=this.map.width;c.height=this.map.height;c.regions=[];for(var f=0;f<this.map.countries.length;f++){var b={};b.center=this.map.countries[f].center;b.ID=this.map.countries[f].ID;for(var h="M "+this.map.countries[f].outline[0].x+" "+this.map.countries[f].outline[0].y,d=1;d<this.map.countries[f].outline.length;d++)h+="L "+this.map.countries[f].outline[d].x+" "+this.map.countries[f].outline[d].y;h+=" Z";b.pathString=h;b.neighborIDs=[];for(d=0;d<
this.map.countries[f].neighbors.length;d++)b.neighborIDs.push(this.map.countries[f].neighbors[d].ID);c.regions.push(b)}c.adjacencyMatrix=[];for(f=0;f<this.map.countries.length;f++)for(c.adjacencyMatrix[f]=[],d=0;d<this.map.countries.length;d++)c.adjacencyMatrix[f][d]=0;for(f=0;f<this.map.countries.length;f++)for(d=0;d<this.map.countries[f].neighbors.length;d++)b=this.map.countries[f].center.y-this.map.countries[f].neighbors[d].center.y,b=Math.sqrt(Math.pow(this.map.countries[f].center.x-this.map.countries[f].neighbors[d].center.x,
2)+Math.pow(b,2)),c.adjacencyMatrix[this.map.countries[f].ID][this.map.countries[f].neighbors[d].ID]=b;return c};var map,paper=Raphael("paper"),button=document.getElementById("generate"),maps=[],start,end,width=document.documentElement.clientWidth-250,height=document.documentElement.clientHeight-40;function getParameterByName(c){c=c.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");c=(new RegExp("[\\?&]"+c+"=([^&#]*)")).exec(location.search);return null===c?26:decodeURIComponent(c[1].replace(/\+/g," "))}
function generate(){paper.clear();paper.setSize(width,height);Raphael.getColor.reset();try{var c=new MapGenerator;c.createHexagonPattern(width,height,25,!1);c.generate(parseInt(getParameterByName("countries")),.6,!1);map=c.getMap();for(c=0;c<map.regions.length;c++)maps.push(paper.path(map.regions[c].pathString).attr("fill",Raphael.getColor(0))),maps[c].node.setAttribute("data-id",c),maps[c].node.setAttribute("class",maps[c].node.getAttribute("class")+" effect"),maps[c].node.onclick=function(){var b=
String.fromCharCode(Number(this.getAttribute("data-id"))+65);this.setAttribute("class",this.getAttribute("class")+" effect-persisting");start?(end=b,document.getElementById("dest").innerHTML=b,document.getElementById("dist").innerHTML="Processing",findRoute(start,end),document.getElementById("history").innerHTML+="("+start+", "+end+"): <span>"+document.getElementById("dist").innerHTML+"</span><br>",end=start=void 0):(start=b,document.getElementById("src").innerHTML=b,document.getElementById("dest").innerHTML=
"Choose In Map",document.getElementById("dist").innerHTML="Waiting for Input")};for(c=0;c<map.adjacencyMatrix.length;c++){for(var f=0;f<c;f++)if(0!=map.adjacencyMatrix[c][f]){var b=map.regions[c].center.x,h=map.regions[c].center.y,d=map.regions[f].center.x,k=map.regions[f].center.y;paper.path("M "+b+","+h+" L "+d+","+k+" Z").attr({stroke:"#ffffff","stroke-width":5,opacity:.4});paper.text((b+d)/2,(h+k)/2,map.adjacencyMatrix[c][f].toFixed(2))}var q=map.regions[c].center.x,p=map.regions[c].center.y;
paper.circle(q,p,10).attr("fill","#F9F5ED");paper.text(q,p,String.fromCharCode(c+65))}}catch(z){alert(z)}}
function dijkstra(c,f,b,h,d,k){h||(h=[]);d||(d={});k||(k={});var q=0,p={},z,Y,q=[];z=b;var ga;if(f===b){for(;void 0!==z;)q.push(z),z=k[z];return{path:q,distance:d[b]}}0===h.length&&(d[f]=0);for(q=0;q<Object.keys(c[f]).length;q+=1)z=Object.keys(c[f])[q],h.contains(z)||(Y=d[f]+c[f][z],Y<(void 0===d[z]?Number.MAX_VALUE:d[z])&&(d[z]=Y,k[z]=f));h.push(f);for(q=0;q<Object.keys(c).length;q+=1)f=Object.keys(c)[q],h.contains(f)||(p[f]=d[f]||Number.MAX_VALUE);ga=Object.keys(p).map(function(b){return p[b]});
f=Object.keys(p).filter(function(b){return p[b]===Math.min.apply(null,ga)})[0];return dijkstra(c,f,b,h,d,k)}function translateGraphFromAdjacency(c){for(var f={},b=0,h=0,b=0;b<c.length;b+=1)for(f[String.fromCharCode(b+65)]={},h=0;h<c[b].length;h+=1)c[b][h]&&(f[String.fromCharCode(b+65)][String.fromCharCode(h+65)]=c[b][h]);return f}
function findRoute(c,f){var b=translateGraphFromAdjacency(map.adjacencyMatrix),b=dijkstra(b,c,f);document.getElementById("dist").innerHTML=b.distance.toFixed(2)+" px";traceRoute(b.path);return b}
function traceRoute(c){for(var f=0,b,h,d,k,f=0;f<c.length-1;f+=1)b=c[f].charCodeAt()-65,h=c[f+1].charCodeAt()-65,d=map.regions[b].center.x,b=map.regions[b].center.y,k=map.regions[h].center.x,h=map.regions[h].center.y,paper.path("M "+d+","+b+" L "+k+","+h+" Z").attr({stroke:"#000000","stroke-width":5,opacity:.8})}generate();
//# sourceMappingURL=/build/graph.js.map
